(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{559:function(e,t,a){"use strict";a.r(t);var n=a(91),l=a(11),r=a(12),i=a(14),s=a(13),o=a(15),c=a(0),u=a.n(c),m=a(50),d=(a(72),a(25)),f=a(80),h=a(520),p=a.n(h),b=p.a.moment().subtract(1,"day"),_=function(e){return e.isAfter(b)},g=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).job_id=Number(a.props.match.params.job_id),a.state={errors:{},requesting:!1,success:!1,start_date:null,err_num:[],validate:!0,apply_by:null,max_chars:"",initial_load:!0},a._new_opening=function(e){if(e.preventDefault(),a.setState({requesting:!0}),a.name.value.length<1)return a.setState({success:!1,err_num:[].concat(Object(n.a)(a.state.err_num),[0]),validate:!1,requesting:!1}),void console.log("This runs 0");if(a.brief.value.length<1)a.setState({success:!1,err_num:[].concat(Object(n.a)(a.state.err_num),[1]),validate:!1,requesting:!1});else if(a.stipend.value.length<1)a.setState({success:!1,err_num:[].concat(Object(n.a)(a.state.err_num),[2]),validate:!1,requesting:!1});else if(a.location.value.length<1)a.setState({success:!1,err_num:[].concat(Object(n.a)(a.state.err_num),[3]),validate:!1,requesting:!1});else if(null!==a.state.apply_by)if(null!==a.state.start_date)if(a.no_of_opening.value<=0||null===a.no_of_opening.value)a.setState({success:!1,err_num:[].concat(Object(n.a)(a.state.err_num),[6]),validate:!1,requesting:!1});else if(a.duration.value.length<1)a.setState({success:!1,err_num:[].concat(Object(n.a)(a.state.err_num),[7]),validate:!1,requesting:!1});else{if(!a.about_the_job.check_input())return a.setState({success:!1,err_num:[].concat(Object(n.a)(a.state.err_num),[8]),validate:!1,requesting:!1}),void console.log("This runs 2");if(!a.skills_required.check_input())return a.setState({success:!1,err_num:[].concat(Object(n.a)(a.state.err_num),[9]),validate:!1,requesting:!1}),void console.log("This runs 2");if(!a.who_can_apply.check_input())return a.setState({success:!1,err_num:[].concat(Object(n.a)(a.state.err_num),[10]),validate:!1,requesting:!1}),void console.log("This runs 2");if(!a.perks.check_input())return a.setState({success:!1,err_num:[].concat(Object(n.a)(a.state.err_num),[11]),validate:!1,requesting:!1}),void console.log("This runs 2");console.log(a.state.validate);var t="/iportal/job/",l=Object(m.b)().post;a.job_id&&(t="/iportal/job/".concat(a.job_id,"/"),l=Object(m.b)().put),l(t,{startup:a.props.auth.startup_id,name:a.name.value,stipend:a.stipend.value,location:a.location.value,no_of_opening:a.no_of_opening.value,job_type:a.job_type.value,duration:a.duration.value,apply_by:a.state.apply_by,start_date:a.state.start_date,brief:a.brief.value,about_the_job:a.about_the_job.get_value(),skills_required:a.skills_required.get_value(),who_can_apply:a.who_can_apply.get_value(),perks:a.perks.get_value()}).then(function(e){var t=e.data;console.log(t),a.props.history.goBack()}).catch(function(e){var t=e.response.data;console.log(t),a.setState({errors:t,requesting:!1})})}else a.setState({success:!1,err_num:[].concat(Object(n.a)(a.state.err_num),[5]),validate:!1,requesting:!1});else a.setState({success:!1,err_num:[].concat(Object(n.a)(a.state.err_num),[4]),validate:!1,requesting:!1})},a._delete_opening=function(){Object(m.b)().delete("/iportal/job/".concat(a.job_id,"/")).then(function(e){a.props.history.goBack()})},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.job_id?Object(m.b)().get("/iportal/job/".concat(this.job_id,"/")).then(function(t){var a=t.data;console.log(a),e.name.value=a.name,e.stipend.value=a.stipend,e.location.value=a.location,e.no_of_opening.value=a.no_of_opening,e.job_type.value=a.job_type,e.duration.value=a.duration,e.brief.value=a.brief,e.about_the_job.set_value(a.about_the_job),e.skills_required.set_value(a.skills_required),e.who_can_apply.set_value(a.who_can_apply),e.perks.set_value(a.perks),e.setState({apply_by:new Date(a.apply_by),start_date:new Date(a.start_date),initial_load:!1})}):this.setState({initial_load:!1})}},{key:"render",value:function(){var e=this,t={};Object.keys(this.state.errors).forEach(function(a){t[a]=e.state.errors[a].map(function(e,t){return u.a.createElement("div",{key:t,className:"text-danger"},e)})});var a=200-this.state.max_chars.length,n=a>=0?a:u.a.createElement("i",{className:"font-weight-bold text-danger"},"Limit exceeded");return u.a.createElement("div",{className:"jumbo container hoverable jumbotron",style:{marginTop:""}},u.a.createElement("div",null,u.a.createElement("button",{onClick:function(){return e.props.history.goBack()},className:"btn btn-info font-weight-bold"},"Go back"),u.a.createElement("h1",{className:"text-center open font-weight-bold flex-grow-1 my-5"},this.job_id?"Edit Work Profile":u.a.createElement(c.Fragment,null,u.a.createElement("div",null,"Create new work profile"),u.a.createElement("div",null,u.a.createElement("h6",null,u.a.createElement("i",{className:"font-weight-bold"},"(All fields are mandatory)"))))),this.job_id?u.a.createElement("button",{onClick:this._delete_opening,className:"btn btn-danger mb-4 font-weight-bold align-self-center",style:{position:"relative",left:"50%",transform:"translate(-50%,0)"}},"Delete"):null),this.state.initial_load?u.a.createElement("div",{className:"my-5"},u.a.createElement("h1",{className:"text-center"},u.a.createElement("i",{className:"fa fa-spinner fa-spin"}))):null,u.a.createElement("form",null,u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{className:"font-weight-bold"},"Work Profile Name"),u.a.createElement("input",{type:"text",ref:function(t){return e.name=t},className:"form-control"}),-1!=this.state.err_num.indexOf(0)&&0==this.state.validate&&0===this.name.value.length?u.a.createElement(c.Fragment,null,u.a.createElement("div",{className:"font-weight-bold text-danger"},"This field is required")):null),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",null,u.a.createElement("label",{className:"font-weight-bold"},"Brief"),"\xa0\xa0",u.a.createElement("i",null,"(Chars allowed: \xa0",n,")")),u.a.createElement("input",{onChange:function(t){return e.setState({max_chars:t.target.value})},type:"text",ref:function(t){return e.brief=t},className:"form-control"}),-1!=this.state.err_num.indexOf(1)&&0==this.state.validate&&0===this.brief.value.length?u.a.createElement(c.Fragment,null,u.a.createElement("div",{className:"font-weight-bold text-danger"},"This field is required")):null),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{className:"font-weight-bold"},"Stipend"),u.a.createElement("input",{type:"text",ref:function(t){return e.stipend=t},className:"form-control"}),-1!=this.state.err_num.indexOf(2)&&0==this.state.validate&&0===this.stipend.value.length?u.a.createElement(c.Fragment,null,u.a.createElement("div",{className:"font-weight-bold text-danger"},"This field is required")):null),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{className:"font-weight-bold"},"Location"),u.a.createElement("input",{type:"email",ref:function(t){return e.location=t},className:"form-control"}),-1!=this.state.err_num.indexOf(3)&&0==this.state.validate&&0===this.location.value.length?u.a.createElement(c.Fragment,null,u.a.createElement("div",{className:"font-weight-bold text-danger"},"This field is required")):null),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{className:"font-weight-bold"},"Apply by"),u.a.createElement(p.a,{isValidDate:_,value:this.state.apply_by,onChange:function(t){return e.setState({apply_by:t})}}),-1!=this.state.err_num.indexOf(4)&&0==this.state.validate&&null===this.state.apply_by?u.a.createElement(c.Fragment,null,u.a.createElement("div",{className:"font-weight-bold text-danger"},"This field is required")):null),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{className:"font-weight-bold"},"Start Date"),u.a.createElement(p.a,{isValidDate:_,value:this.state.start_date,onChange:function(t){return e.setState({start_date:t})}}),-1!=this.state.err_num.indexOf(5)&&0==this.state.validate&&null===this.state.start_date?u.a.createElement(c.Fragment,null,u.a.createElement("div",{className:"font-weight-bold text-danger"},"This field is required")):null),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{className:"font-weight-bold"},"No of Openings"),u.a.createElement("input",{type:"number",ref:function(t){return e.no_of_opening=t},className:"form-control"}),-1!=this.state.err_num.indexOf(6)&&0==this.state.validate&&(this.no_of_opening.value<=0||null===this.no_of_opening.value)?u.a.createElement(c.Fragment,null,u.a.createElement("div",{className:"font-weight-bold text-danger"},"This field is required with valid input")):null),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{className:"font-weight-bold"},"Duration"),u.a.createElement("input",{type:"text",ref:function(t){return e.duration=t},className:"form-control"}),-1!=this.state.err_num.indexOf(7)&&0==this.state.validate&&0===this.duration.value.length?u.a.createElement(c.Fragment,null,u.a.createElement("div",{className:"font-weight-bold text-danger"},"This field is required")):null),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{className:"mr-2 font-weight-bold d-inline-block"},"Job type"),u.a.createElement("select",{className:"form-control",ref:function(t){return e.job_type=t}},u.a.createElement("option",{value:"Internship"},"Internship"),u.a.createElement("option",{value:"Internship with job offer"},"Internship with job offer"),u.a.createElement("option",{value:"Full time employee"},"Full time employee"),u.a.createElement("option",{value:"Parttime"},"Part time"),u.a.createElement("option",{value:"Freelance"},"Freelance"))),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{className:"font-weight-bold"},"About the job"),u.a.createElement(f.a,{onRef:function(t){return e.about_the_job=t}}),-1==this.state.err_num.indexOf(8)||0!=this.state.validate||this.about_the_job.check_input()?null:u.a.createElement(c.Fragment,null,u.a.createElement("div",{className:"font-weight-bold text-danger"},"This field is required"))),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{className:"font-weight-bold"},"Skills required"),u.a.createElement(f.a,{onRef:function(t){return e.skills_required=t}}),-1==this.state.err_num.indexOf(9)||0!=this.state.validate||this.skills_required.check_input()?null:u.a.createElement(c.Fragment,null,u.a.createElement("div",{className:"font-weight-bold text-danger"},"This field is required"))),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{className:"font-weight-bold"},"Who can apply"),u.a.createElement(f.a,{onRef:function(t){return e.who_can_apply=t}}),-1==this.state.err_num.indexOf(10)||0!=this.state.validate||this.who_can_apply.check_input()?null:u.a.createElement(c.Fragment,null,u.a.createElement("div",{className:"font-weight-bold text-danger"},"This field is required"))),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{className:"font-weight-bold"},"Perks"),u.a.createElement(f.a,{onRef:function(t){return e.perks=t}}),-1==this.state.err_num.indexOf(11)||0!=this.state.validate||this.perks.check_input()?null:u.a.createElement(c.Fragment,null,u.a.createElement("div",{className:"font-weight-bold text-danger"},"This field is required"))),u.a.createElement("div",{className:"text-center"},u.a.createElement("div",null,0==this.state.validate?u.a.createElement("i",{className:"font-weight-bold text-danger"},"(Some fields are empty or invalid, recheck and try agin)"):null),u.a.createElement("button",{disabled:this.state.requesting,onClick:this._new_opening,className:"btn btn-primary font-weight-bold"},this.state.requesting?u.a.createElement("i",{className:"fa fa-spinner fa-spin"}):"submit"))))}}]),t}(c.Component);t.default=Object(d.b)(function(e){return e})(g)},80:function(e,t,a){"use strict";a.d(t,"a",function(){return b});var n=a(11),l=a(12),r=a(14),i=a(13),s=a(15),o=a(0),c=a.n(o),u=(a(81),a(108),a(109)),m=a(87),d=a(113),f=a.n(d),h=a(114),p=a.n(h),b=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,s=new Array(l),o=0;o<l;o++)s[o]=arguments[o];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={editorState:m.EditorState.createEmpty()},a.set_value=function(e){var t=p()(e);if(t){var n=m.ContentState.createFromBlockArray(t.contentBlocks),l=m.EditorState.createWithContent(n);a.setState({editorState:l})}},a.get_value=function(){return f()(Object(m.convertToRaw)(a.state.editorState.getCurrentContent()))},a.check_input=function(){return a.state.editorState.getCurrentContent().hasText()},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"wysiwyg"},c.a.createElement(u.Editor,{editorState:this.state.editorState,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:function(t){return e.setState({editorState:t})}}))}}]),t}(o.Component)},81:function(e,t,a){}}]);
//# sourceMappingURL=42.d34cee7d.chunk.js.map