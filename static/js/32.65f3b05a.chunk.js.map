{"version":3,"sources":["assets/no_pic.svg","Components/common/wysiwyg.js","Components/iportal/startup/upload_logo.js","Components/iportal/startup/register_startup.js","axios.js"],"names":["module","exports","__webpack_require__","p","summernote","state","editorState","EditorState","createEmpty","set_value","html","contentBlock","htmlToDraft","contentState","ContentState","createFromBlockArray","contentBlocks","createWithContent","_this","setState","get_value","draftToHtml","convertToRaw","getCurrentContent","this","props","onRef","_this2","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","react_draft_wysiwyg__WEBPACK_IMPORTED_MODULE_8__","toolbarClassName","wrapperClassName","editorClassName","onEditorStateChange","Component","upload_logo","progress","uploading","startup","_upload_logo","_callee","e","input_img","regenerator_default","wrap","_context","prev","next","preventDefault","logo_id","faxios","delete","concat","then","d","Object","objectSpread","logo","document","type","accept","click","addEventListener","files","target","fr","FileReader","readAsDataURL","result","data","FormData","request","XMLHttpRequest","append","auth","startup_id","JSON","parse","response","console","log","id","upload","Math","round","loaded","total","open","baseURL","setRequestHeader","token","send","stop","get","loading","logo_url","require","react_default","src","alt","disabled","onClick","connect","RegisterStartup","isEdit","location","pathname","indexOf","errors","requesting","success","_register_startup","reqType","post","url","put","name","value","email","contact","brief","description","sector","address1","address2","district","lstate","country","user","history","goBack","catch","alert","push","_reset_form","_this3","error_html","keys","forEach","key","map","ele","i","startup_upload_logo","ref","wysiwyg","__webpack_exports__","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","_index__WEBPACK_IMPORTED_MODULE_1__","undefined","store","getState","loggedin","axios","create","headers","Authorization","Access"],"mappings":"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","file":"static/js/32.65f3b05a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/no_pic.67edcff8.svg\";","import React, { Component } from 'react'\nimport './wysiwyg.scss'\n\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport { Editor } from 'react-draft-wysiwyg';\nimport { EditorState, convertToRaw, ContentState } from 'draft-js'\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs';\n\n\n\nexport default class summernote extends Component {\n  state = {\n    editorState: EditorState.createEmpty()\n  }\n\n  componentDidMount() {\n    this.props.onRef(this)\n  }\n\n  set_value = html => {\n    const contentBlock = htmlToDraft(html);\n    if (contentBlock) {\n      const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\n      const editorState = EditorState.createWithContent(contentState);\n      this.setState({editorState})\n    }\n  }\n\n  get_value = () => draftToHtml(convertToRaw(this.state.editorState.getCurrentContent()))\n\n\n\n  render() {\n    return (\n      <div className=\"wysiwyg\">\n        <Editor\n          editorState={this.state.editorState}\n          toolbarClassName=\"toolbarClassName\"\n          wrapperClassName=\"wrapperClassName\"\n          editorClassName=\"editorClassName\"\n          onEditorStateChange={editorState => this.setState({ editorState })}\n        />\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport faxios, {baseURL} from '../../../axios'\n\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nclass upload_logo extends Component {\n    state = {\n        progress: 0,\n        uploading: false,\n        startup: {}\n    }\n\n\n    static propTypes = {\n        auth: PropTypes.object.isRequired,\n    }\n\n\n    componentDidMount() {\n        faxios().get(`/iportal/startup/${this.props.auth.startup_id}/`)\n            .then(d => {\n                console.log(d.data)\n                this.setState({\n                    loading: false,\n                    startup: d.data\n                })\n            })\n    }\n    \n\n    _upload_logo = async e => {\n        e.preventDefault()\n\n        if (this.state.startup.logo_id) {\n            await faxios().delete(`/iportal/logo/${this.state.startup.logo_id}/`)\n                .then(d => {\n                    this.setState({\n                        startup: {\n                            ...this.state.startup,\n                            logo_id: null,\n                            logo: null,\n                        }\n                    })\n                })\n        }\n\n        let input_img = document.createElement('input')\n        input_img.type = 'file'\n        input_img.accept = \"image/x-png,image/gif,image/jpeg,image/svg+xml\"\n        input_img.click()\n\n        input_img.addEventListener('change', e => {\n            let files = e.target.files\n\n            var fr = new FileReader();\n            fr.readAsDataURL(files[0])\n\n            fr.addEventListener('load', e => {\n                this.setState({\n                    startup: {\n                        ...this.state.startup,\n                        logo: fr.result\n                    }\n                })\n\n\n                var data = new FormData();\n                var request = new XMLHttpRequest();\n\n                data.append('logo', files[0])\n                data.append('startup', this.props.auth.startup_id);\n\n\n                // load event\n                request.addEventListener('load', (e) => {\n                    let data = JSON.parse(e.target.response)\n                    console.log(data)\n\n                    this.setState({\n                        uploading: false,\n                        progress: 0,\n                        startup: {\n                            ...this.state.startup,\n                            logo: data.logo,\n                            logo_id: data.id,\n                        }\n                    })\n                });\n\n                // monitor progress of upload\n                request.upload.addEventListener('progress', (e) => {\n                    var progress = Math.round((e.loaded / e.total) * 100)\n                    console.log({ progress })\n\n                    this.setState({ progress })\n                })\n\n\n                request.open('post', baseURL + '/iportal/logo/');\n                request.setRequestHeader('Authorization', this.props.auth.token)\n                request.send(data);\n                this.setState({ uploading: true })\n            })\n        })\n\n    }\n\n    render() {\n        if(!this.props.auth.startup_id){\n            return null\n        }\n\n        let logo_url = this.state.startup.logo ? this.state.startup.logo : require('../../../assets/no_pic.svg')\n\n        return (\n            <div>\n                <img className='logo_img' src={logo_url} alt=\"\" />\n                <button\n                    disabled={this.state.uploading}\n                    onClick={this._upload_logo}\n                    className=\"btn btn-success\">\n                    {this.state.uploading ? 'uploading' : 'Change logo'}\n                    {this.state.uploading ?\n                        <span>\n                            <i className=\"fa fa-spinner fa-spin\"></i>\n                            {this.state.progress ? this.state.progress : null}\n                        </span>\n                        :\n                        null}\n                </button>\n            </div>\n        )\n    }\n}\n\n\n\nconst mapStateToProps = (state) => state\n\nexport default connect(mapStateToProps)(upload_logo)","import React, { Component } from 'react'\nimport faxios, { baseURL } from '../../../axios'\nimport UploadLogo from './upload_logo'\n\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport Wysiwyg from '../../common/wysiwyg'\n\n\nclass RegisterStartup extends Component {\n    isEdit = this.props.location.pathname.indexOf('edit') > -1\n    \n    state = {\n        errors: {},\n        requesting: false,\n        success: false,\n        startup: {}\n    }\n\n    static propTypes = {\n        auth: PropTypes.object.isRequired,\n    }\n\n\n    componentDidMount() {\n        if(this.isEdit){\n            faxios().get(`/iportal/startup/${this.props.auth.startup_id}/`)\n                .then(d=>{\n                    const data=d.data \n                    console.log(data)\n\n                    this.name.value = data.name\n                    this.email.value = data.email\n                    this.contact.value = data.contact\n                    this.brief.value = data.brief\n                    this.sector.value = data.sector\n                    this.address1.value = data.address1\n                    this.address2.value = data.address2\n                    this.district.value = data.district\n                    this.lstate.value = data.lstate\n                    this.country.value = data.country\n                    this.description.set_value(data.description)\n                })\n        }\n    }\n    \n\n    _register_startup = e => {\n        e.preventDefault()\n\n        this.setState({\n            requesting: false\n        })\n\n        let reqType = faxios().post\n        let url = '/iportal/startup/'\n        \n        if(this.props.auth.startup_id){\n            reqType= faxios().put\n            url = `/iportal/startup/${this.props.auth.startup_id}/`\n        }\n\n        reqType(url, {\n            'name': this.name.value,\n            'email': this.email.value,\n            'contact': this.contact.value,\n            'brief': this.brief.value,\n            'description': this.description.get_value(),\n            'sector': this.sector.value,\n            'address1': this.address1.value,\n            'address2': this.address2.value,\n            'district': this.district.value,\n            'state': this.lstate.value,\n            'country': this.country.value,\n            user: this.props.auth.id\n        }).then(d => {\n            const data = d.data\n            console.log(data)\n\n            if(this.isEdit){\n                this.props.history.goBack()\n            }else{\n                this.setState({ success: true, requesting: false })\n            }\n        }).catch(d => {\n            let data = d.response.data\n            console.log(data)\n            this.setState({ errors: data, requesting: false })\n\n            if (data.user) {\n                alert('your startup is already registered')\n                this.props.history.push('/startups')\n            }\n        })\n    }\n\n\n    _reset_form = e => {\n        e.preventDefault()\n        this.name.value = ''\n        this.email.value = ''\n        this.contact.value = ''\n        this.brief.value = ''\n        this.sector.value = ''\n        this.address1.value = ''\n        this.address2.value = ''\n        this.district.value = ''\n        this.lstate.value = ''\n        this.country.value = ''\n\n        this.description.set_value('')\n    }\n\n\n\n\n    render() {\n        if (this.state.success) {\n            return (\n                <div>\n                    <h2 className=\"mt-5 text-center\">Successfully submited for verification</h2>\n                    <h4 className=\"text-center mt-3\">You will receive confirmation by E-mail and SMS once the verification is complete.</h4>\n                    <div className=\"text-center\">\n                        <button className=\"btn btn-primary mt-5\" onClick={() => this.props.history.push('/startups')}>Go to homepage</button>\n                    </div>\n                </div>\n            )\n        }\n\n        let error_html = {}\n        Object.keys(this.state.errors).forEach((key) => {\n            error_html[key] = this.state.errors[key].map((ele, i) =>\n                <div key={i} className=\"text-danger\">{ele}</div>\n            )\n        })\n\n\n        return (\n            <div className='container'>\n                <h1 className=\"text-center my-5\">\n                    {this.isEdit?'Edit Startup' :'Register Startup'}\n                </h1>\n\n                <div className=\"text-center\">\n                    <UploadLogo />\n                </div>\n\n                <form>\n                    <div className=\"form-group\">\n                        <label>Name</label>\n                        <input type=\"text\" ref={ele => this.name = ele} className=\"form-control\" />\n                        {error_html['name']}\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Email</label>\n                        <input type=\"email\" ref={ele => this.email = ele} className=\"form-control\" />\n                        {error_html['email']}\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Contact</label>\n                        <input type=\"text\" ref={ele => this.contact = ele} className=\"form-control\" />\n                        {error_html['contact']}\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Brief</label>\n                        <input type=\"text\" ref={ele => this.brief = ele} className=\"form-control\" />\n                        {error_html['brief']}\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Description</label>\n                        {error_html['description']}\n                        <Wysiwyg onRef={ref => this.description = ref} />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Sector</label>\n                        <input type=\"text\" ref={ele => this.sector = ele} className=\"form-control\" />\n                        {error_html['sector']}\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Address line 1</label>\n                        <input type=\"text\" ref={ele => this.address1 = ele} className=\"form-control\" />\n                        {error_html['address1']}\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Address line 2</label>\n                        <input type=\"text\" ref={ele => this.address2 = ele} className=\"form-control\" />\n                        {error_html['address2']}\n                    </div>\n                    <div className=\"form-group\">\n                        <label>District</label>\n                        <input type=\"text\" ref={ele => this.district = ele} className=\"form-control\" />\n                        {error_html['district']}\n                    </div>\n                    <div className=\"form-group\">\n                        <label>State</label>\n                        <input type=\"text\" ref={ele => this.lstate = ele} className=\"form-control\" />\n                        {error_html['state']}\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Country</label>\n                        <input type=\"text\" ref={ele => this.country = ele} className=\"form-control\" />\n                        {error_html['country']}\n                    </div>\n\n                    <div className=\"text-center\">\n                        <button disabled={this.state.requesting || this.state.success} onClick={this._register_startup} className=\"btn btn-primary\">{this.state.requesting ? <i className=\"fa fa-spinner fa-spin\"></i> : 'submit'}</button>\n                        <button onClick={this._reset_form} className=\"btn btn-danger\">reset</button>\n                    </div>\n                </form>\n\n            </div>\n        )\n    }\n}\n\n\n\n\nconst mapStateToProps = (state) => state\n\nexport default connect(mapStateToProps)(RegisterStartup)\n","import axios from \"axios\";\nimport { store } from './index'\n\n\nexport let baseURL = \"http://localhost:8000\"\n// export let baseURL =\"https://ecell.nitrr.ac.in\";\n\n    \nif (process.env.NODE_ENV === 'production') {\n    baseURL = \"\"\n}\n\n\nexport default () => {\n    let token = undefined\n    let accessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnQiOiJhbmRyb2lkIiwib3JnYW5pemF0aW9uIjoiRUNlbGwifQ.H2aaDJuOxK44D2kwRCWwv9s5rzJGCNYKT3thtQqN-hQ';\n    const user = store.getState().auth\n\n    \n    if (user) {\n        // console.log({user})\n        token = user.loggedin ? user.token : undefined\n    }\n    return axios.create({\n        baseURL,\n        headers: {\n            Authorization: token,\n            Access: accessToken\n\n        }\n    });\n};\n"],"sourceRoot":""}