{"version":3,"sources":["axios.js","Components/iportal/jobs/my_applications.js"],"names":["baseURL","token","undefined","user","store","getState","auth","loggedin","axios","create","headers","Authorization","Access","applications_list","state","applications","loading","_status_func","application","status","class","faxios","get","this","props","id","then","d","data","results","console","log","map","created_at","Date","toISOString","slice","sort","a","b","setState","i","key","scope","startup_name","opening_name","format_date","className","style","marginBottom","onClick","history","goBack","margin","Component","connect"],"mappings":"sGAAA,+DAIWA,EAAS,4BAMhBA,EAAU,GAIC,eACX,IAAIC,OAAQC,EAENC,EAAOC,QAAMC,WAAWC,KAO9B,OAJIH,IAEAF,EAAQE,EAAKI,SAAWJ,EAAKF,WAAQC,GAElCM,IAAMC,OAAO,CAChBT,UACAU,QAAS,CACLC,cAAeV,EACfW,OAZU,mJ,oHCRhBC,E,4MAKFC,MAAQ,CACJC,aAAc,GACdC,SAAQ,G,EAqBZC,aAAe,SAACC,GACZ,MAAyB,QAAtBA,EAAYC,QAAyC,aAAtBD,EAAYC,OACnC,0BAAMC,MAAM,2BAAZ,YAGc,QAAtBF,EAAYC,QAAyC,UAAtBD,EAAYC,OACnC,0BAAMC,MAAM,4BAAZ,SAGc,QAAtBF,EAAYC,QAAyC,YAAtBD,EAAYC,OACnC,0BAAMC,MAAM,4BAAZ,WAGc,QAAtBF,EAAYC,QAAyC,iBAAtBD,EAAYC,OACnC,0BAAMC,MAAM,yBAAZ,kBADX,G,kEA/BiB,IAAD,OAChBC,cAASC,IAAT,8CAAoDC,KAAKC,MAAMlB,KAAKmB,KAC/DC,MAAK,SAAAC,GACF,IAAIZ,EAAeY,EAAEC,KAAKC,QAC1BC,QAAQC,IAAIhB,GAOZA,GALAA,EAAeA,EAAaiB,KAAI,SAAAd,GAE5B,OADAA,EAAYe,WAAa,IAAIC,KAAKhB,EAAYe,YAAYE,cAAcC,MAAM,EAAG,IAC1ElB,MAGiBmB,MAAK,SAACC,EAAEC,GAAH,OAAOA,EAAEd,GAAGa,EAAEb,MAE/CK,QAAQC,IAAI,CAAEhB,iBACd,EAAKyB,SAAS,CAAEzB,eAAaC,SAAQ,S,+BAwBvC,IAAD,OAIDD,EAAeQ,KAAKT,MAAMC,aAAaiB,KAAI,SAACd,EAAauB,GAAd,OAC3C,wBAAIC,IAAKxB,EAAYO,IACjB,wBAAIkB,MAAM,OAAOF,EAAI,GACrB,4BAAKvB,EAAY0B,cACjB,4BAAK1B,EAAY2B,cACjB,4BAAK,EAAK5B,aAAaC,IACvB,4BAAK4B,YAAY5B,EAAYe,iBAIrC,OACI,yBAAKc,UAAU,iCAAiCC,MAAO,CAACC,aAAa,SAEjE,6BACI,4BAAQC,QAAS,kBAAM,EAAK1B,MAAM2B,QAAQC,UAAUL,UAAU,sDAA9D,YAGJ,yBAAKA,UAAU,UACX,wBAAKA,UAAU,iDAAf,oBAGJ,yBAAKA,UAAU,qBAEdxB,KAAKT,MAAME,QACJ,yBAAK+B,UAAU,oBACX,uBAAGC,MAAO,CAACK,OAAO,UAAWN,UAAU,iCAEzC,kBAAC,WAAD,KACE,2BAAOA,UAAU,uBACzB,+BACI,4BACI,wBAAIJ,MAAM,MAAMI,UAAU,oBAA1B,KACA,wBAAKJ,MAAM,MAAMI,UAAU,oBAA3B,WACA,wBAAKJ,MAAM,MAAMI,UAAU,oBAA3B,WACA,wBAAKJ,MAAM,MAAMI,UAAU,oBAA3B,UACA,wBAAIJ,MAAM,MAAMI,UAAU,oBAA1B,gBAIR,+BAAQhC,W,GA3FIuC,aAwGjBC,uBAFS,SAACzC,GAAD,OAAWA,IAEpByC,CAAyB1C","file":"static/js/48.db58d85f.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { store } from './index'\n\n\nexport let baseURL =\"https://ecell.nitrr.ac.in\";\n//export let baseURL =\"http://localhost:8000\";\n// export let baseURL =\"http://8a22a572.ngrok.io\";\n\n    \nif (process.env.NODE_ENV === 'production') {\n    baseURL = \"\"\n}\n\n\nexport default () => {\n    let token = undefined\n    let accessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnQiOiJhbmRyb2lkIiwib3JnYW5pemF0aW9uIjoiRUNlbGwifQ.H2aaDJuOxK44D2kwRCWwv9s5rzJGCNYKT3thtQqN-hQ';\n    const user = store.getState().auth\n\n    \n    if (user) {\n        // console.log({user})\n        token = user.loggedin ? user.token : undefined\n    }\n    return axios.create({\n        baseURL,\n        headers: {\n            Authorization: token,\n            Access: accessToken\n\n        }\n    });\n};\n","import React, { Component, Fragment } from 'react'\nimport faxios from '../../../axios'\nimport { Link } from 'react-router-dom'\nimport {format_date} from '../../constants'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { application_status } from '../../constants'\n\nclass applications_list extends Component {\n    static propTypes = {\n        auth: PropTypes.object.isRequired,\n    }\n\n    state = {\n        applications: [],\n        loading:true\n    }\n\n    componentDidMount() {\n        faxios().get(`/iportal/job_application/?applicant=${this.props.auth.id}`)\n            .then(d => {\n                let applications = d.data.results\n                console.log(applications)\n\n                applications = applications.map(application => {\n                    application.created_at = new Date(application.created_at).toISOString().slice(0, 10)\n                    return application\n                })\n\n                applications = applications.sort((a,b)=>b.id-a.id)\n\n                console.log({ applications })\n                this.setState({ applications,loading:false })\n            })\n    }\n\n    _status_func = (application) =>{\n        if(application.status ===\"RJD\" || application.status ===\"rejected\"){\n            return <span class=\"badge py-2 badge-danger\">Rejected</span>\n        }\n\n        if(application.status ===\"HRD\" || application.status ===\"hired\"){\n            return <span class=\"badge py-2 badge-success\">Hired</span>\n        }\n\n        if(application.status ===\"PND\" || application.status ===\"pending\"){\n            return <span class=\"badge py-2 badge-warning\">Pending</span>\n        }\n\n        if(application.status ===\"URV\" || application.status ===\"Under Review\"){\n            return <span class=\"badge py-2 badge-info\">Reviewing</span>\n        }\n\n\n    }\n\n    render() {\n\n        \n\n        let applications = this.state.applications.map((application, i) =>\n            <tr key={application.id}>\n                <th scope=\"row\">{i + 1}</th>\n                <td>{application.startup_name}</td>\n                <td>{application.opening_name}</td>\n                <td>{this._status_func(application)}</td>\n                <td>{format_date(application.created_at)}</td>\n            </tr>\n        )\n\n        return (\n            <div className=\"container jumbotron hoverable \" style={{marginBottom:\"80px\"}}>\n\n                <div>\n                    <button onClick={() => this.props.history.goBack()} className=\"btn align-self-center font-weight-bold btn-primary\">Go Back</button>\n                </div>\n\n                <div className='d-flex'>\n                    <h1  className=\"text-center font-weight-bold flex-grow-1 my-5\">My Applications</h1>\n                </div>\n\n                <div className=\"table-responsive \">\n\n                {this.state.loading ?\n                        <div className=\"my-5 text-center\" >\n                            <i style={{margin:\"0 auto\"}} className=\"fa fa-2x fa-spinner fa-spin\"></i>\n                        </div>\n                        : <Fragment>\n                            <table className=\"table table-striped\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\" className=\"font-weight-bold\">#</th>\n                            <th  scope=\"col\" className=\"font-weight-bold\">Company</th>\n                            <th  scope=\"col\" className=\"font-weight-bold\">Posting</th>\n                            <th  scope=\"col\" className=\"font-weight-bold\">Status</th>\n                            <th scope=\"col\" className=\"font-weight-bold\">Applied on</th>\n                        </tr>\n                    </thead>\n\n                    <tbody>{applications}</tbody>\n                    \n                </table>\n                        </Fragment>}\n                </div>\n            </div>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state) => state\n\nexport default connect(mapStateToProps)(applications_list)"],"sourceRoot":""}