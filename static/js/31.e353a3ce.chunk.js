(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{122:function(e,t,a){e.exports=a.p+"static/media/no_pic.67edcff8.svg"},123:function(e,t,a){"use strict";a.d(t,"a",function(){return g});var r=a(11),n=a(12),s=a(14),o=a(13),l=a(15),c=a(0),i=a.n(c),u=(a(156),a(218),a(219)),p=a(124),m=a(253),d=a.n(m),f=a(254),v=a.n(f),g=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l)))).state={editorState:p.EditorState.createEmpty()},a.set_value=function(e){var t=v()(e);if(t){var r=p.ContentState.createFromBlockArray(t.contentBlocks),n=p.EditorState.createWithContent(r);a.setState({editorState:n})}},a.get_value=function(){return d()(Object(p.convertToRaw)(a.state.editorState.getCurrentContent()))},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"wysiwyg"},i.a.createElement(u.Editor,{editorState:this.state.editorState,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:function(t){return e.setState({editorState:t})}}))}}]),t}(c.Component)},156:function(e,t,a){},335:function(e,t,a){"use strict";a.r(t);var r=a(11),n=a(12),s=a(14),o=a(13),l=a(15),c=a(0),i=a.n(c),u=a(51),p=a(216),m=a.n(p),d=a(27),f=a(217),v=a(25),g=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l)))).state={progress:0,uploading:!1,startup:{}},a._upload_logo=function(){var e=Object(f.a)(m.a.mark(function e(t){var r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.state.startup.logo_id){e.next=4;break}return e.next=4,Object(u.b)().delete("/iportal/logo/".concat(a.state.startup.logo_id,"/")).then(function(e){a.setState({startup:Object(d.a)({},a.state.startup,{logo_id:null,logo:null})})});case 4:(r=document.createElement("input")).type="file",r.accept="image/x-png,image/gif,image/jpeg,image/svg+xml",r.click(),r.addEventListener("change",function(e){var t=e.target.files,r=new FileReader;r.readAsDataURL(t[0]),r.addEventListener("load",function(e){a.setState({startup:Object(d.a)({},a.state.startup,{logo:r.result})});var n=new FormData,s=new XMLHttpRequest;n.append("logo",t[0]),n.append("startup",a.props.auth.startup_id),s.addEventListener("load",function(e){var t=JSON.parse(e.target.response);console.log(t),a.setState({uploading:!1,progress:0,startup:Object(d.a)({},a.state.startup,{logo:t.logo,logo_id:t.id})})}),s.upload.addEventListener("progress",function(e){var t=Math.round(e.loaded/e.total*100);console.log({progress:t}),a.setState({progress:t})}),s.open("post",u.a+"/iportal/logo/"),s.setRequestHeader("Authorization",a.props.auth.token),s.send(n),a.setState({uploading:!0})})});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(u.b)().get("/iportal/startup/".concat(this.props.auth.startup_id,"/")).then(function(t){console.log(t.data),e.setState({loading:!1,startup:t.data})})}},{key:"render",value:function(){if(!this.props.auth.startup_id)return null;var e=this.state.startup.logo?this.state.startup.logo:a(122);return i.a.createElement("div",null,i.a.createElement("img",{className:"logo_img",src:e,alt:""}),i.a.createElement("button",{disabled:this.state.uploading,onClick:this._upload_logo,className:"btn btn-success"},this.state.uploading?"uploading":"Change logo",this.state.uploading?i.a.createElement("span",null,i.a.createElement("i",{className:"fa fa-spinner fa-spin"}),this.state.progress?this.state.progress:null):null))}}]),t}(c.Component),b=Object(v.b)(function(e){return e})(g),h=a(123),E=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l)))).isEdit=a.props.location.pathname.indexOf("edit")>-1,a.state={errors:{},requesting:!1,success:!1,startup:{}},a._register_startup=function(e){e.preventDefault(),a.setState({requesting:!1});var t=Object(u.b)().post,r="/iportal/startup/";a.props.auth.startup_id&&(t=Object(u.b)().put,r="/iportal/startup/".concat(a.props.auth.startup_id,"/")),t(r,{name:a.name.value,email:a.email.value,contact:a.contact.value,brief:a.brief.value,description:a.description.get_value(),sector:a.sector.value,address1:a.address1.value,address2:a.address2.value,district:a.district.value,state:a.lstate.value,country:a.country.value,user:a.props.auth.id}).then(function(e){var t=e.data;console.log(t),a.isEdit?a.props.history.goBack():a.setState({success:!0,requesting:!1})}).catch(function(e){var t=e.response.data;console.log(t),a.setState({errors:t,requesting:!1}),t.user&&(alert("your startup is already registered"),a.props.history.push("/startups"))})},a._reset_form=function(e){e.preventDefault(),a.name.value="",a.email.value="",a.contact.value="",a.brief.value="",a.sector.value="",a.address1.value="",a.address2.value="",a.district.value="",a.lstate.value="",a.country.value="",a.description.set_value("")},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.isEdit&&Object(u.b)().get("/iportal/startup/".concat(this.props.auth.startup_id,"/")).then(function(t){var a=t.data;console.log(a),e.name.value=a.name,e.email.value=a.email,e.contact.value=a.contact,e.brief.value=a.brief,e.sector.value=a.sector,e.address1.value=a.address1,e.address2.value=a.address2,e.district.value=a.district,e.lstate.value=a.lstate,e.country.value=a.country,e.description.set_value(a.description)})}},{key:"render",value:function(){var e=this;if(this.state.success)return i.a.createElement("div",null,i.a.createElement("h2",{className:"mt-5 text-center"},"Successfully submited for verification"),i.a.createElement("h4",{className:"text-center mt-3"},"You will receive confirmation by E-mail and SMS once the verification is complete."),i.a.createElement("div",{className:"text-center"},i.a.createElement("button",{className:"btn btn-primary mt-5",onClick:function(){return e.props.history.push("/startups")}},"Go to homepage")));var t={};return Object.keys(this.state.errors).forEach(function(a){t[a]=e.state.errors[a].map(function(e,t){return i.a.createElement("div",{key:t,className:"text-danger"},e)})}),i.a.createElement("div",{className:"container"},i.a.createElement("h1",{className:"text-center my-5"},this.isEdit?"Edit Startup":"Register Startup"),i.a.createElement("div",{className:"text-center"},i.a.createElement(b,null)),i.a.createElement("form",null,i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Name"),i.a.createElement("input",{type:"text",ref:function(t){return e.name=t},className:"form-control"}),t.name),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Email"),i.a.createElement("input",{type:"email",ref:function(t){return e.email=t},className:"form-control"}),t.email),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Contact"),i.a.createElement("input",{type:"text",ref:function(t){return e.contact=t},className:"form-control"}),t.contact),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Brief"),i.a.createElement("input",{type:"text",ref:function(t){return e.brief=t},className:"form-control"}),t.brief),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Description"),t.description,i.a.createElement(h.a,{onRef:function(t){return e.description=t}})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Sector"),i.a.createElement("input",{type:"text",ref:function(t){return e.sector=t},className:"form-control"}),t.sector),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Address line 1"),i.a.createElement("input",{type:"text",ref:function(t){return e.address1=t},className:"form-control"}),t.address1),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Address line 2"),i.a.createElement("input",{type:"text",ref:function(t){return e.address2=t},className:"form-control"}),t.address2),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"District"),i.a.createElement("input",{type:"text",ref:function(t){return e.district=t},className:"form-control"}),t.district),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"State"),i.a.createElement("input",{type:"text",ref:function(t){return e.lstate=t},className:"form-control"}),t.state),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Country"),i.a.createElement("input",{type:"text",ref:function(t){return e.country=t},className:"form-control"}),t.country),i.a.createElement("div",{className:"text-center"},i.a.createElement("button",{disabled:this.state.requesting||this.state.success,onClick:this._register_startup,className:"btn btn-primary"},this.state.requesting?i.a.createElement("i",{className:"fa fa-spinner fa-spin"}):"submit"),i.a.createElement("button",{onClick:this._reset_form,className:"btn btn-danger"},"reset"))))}}]),t}(c.Component);t.default=Object(v.b)(function(e){return e})(E)},51:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var r=a(90),n=a.n(r),s=a(36),o="http://localhost:8000";o="",t.b=function(){var e=void 0,t=s.store.getState().auth;return t&&(e=t.loggedin?t.token:void 0),n.a.create({baseURL:o,headers:{Authorization:e,Access:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnQiOiJhbmRyb2lkIiwib3JnYW5pemF0aW9uIjoiRUNlbGwifQ.H2aaDJuOxK44D2kwRCWwv9s5rzJGCNYKT3thtQqN-hQ"}})}}}]);
//# sourceMappingURL=31.e353a3ce.chunk.js.map