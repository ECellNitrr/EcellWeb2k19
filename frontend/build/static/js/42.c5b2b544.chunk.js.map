{"version":3,"sources":["Components/iportal/startup/new_opening.js","Components/common/wysiwyg.js"],"names":["yesterday","Datetime","moment","subtract","valid","current","isAfter","new_opening","job_id","Number","props","match","params","state","errors","requesting","success","start_date","err_num","validate","apply_by","max_chars","initial_load","_new_opening","e","preventDefault","setState","name","value","length","console","log","brief","stipend","location","no_of_opening","duration","about_the_job","check_input","skills_required","who_can_apply","perks","url","reqtype","faxios","post","put","auth","startup_id","job_type","get_value","then","d","data","history","goBack","catch","response","_delete_opening","delete","this","get","set_value","Date","error_html","Object","keys","forEach","key","map","ele","i","className","char_size","idea_size_text","style","marginTop","onClick","position","left","transform","type","ref","indexOf","onChange","target","isValidDate","onRef","disabled","Component","connect","summernote","editorState","EditorState","createEmpty","html","contentBlock","htmlToDraft","contentState","ContentState","createFromBlockArray","contentBlocks","createWithContent","draftToHtml","convertToRaw","getCurrentContent","hasText","toolbarClassName","wrapperClassName","editorClassName","onEditorStateChange"],"mappings":"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","file":"static/js/42.c5b2b544.chunk.js","sourcesContent":["import React, { Component,Fragment } from 'react'\n\nimport faxios from '../../../axios'\nimport './dashboard.scss'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport Wysiwyg from '../../common/wysiwyg'\nimport Datetime from 'react-datetime'\n\nvar yesterday = Datetime.moment().subtract(1, 'day');\nvar valid = function( current ){\n    return current.isAfter( yesterday );\n};\n\n\nclass new_opening extends Component {\n    job_id = Number(this.props.match.params.job_id)\n\n    state = {\n        errors: {},\n        requesting: false,\n        success: false,\n        start_date: null,\n        err_num:[],\n        validate:true,\n        apply_by: null,\n        max_chars:\"\",\n        initial_load: true,\n    }\n\n    componentDidMount() {\n        if(!this.job_id){\n            this.setState({initial_load: false})\n            return\n        }\n\n        faxios().get(`/iportal/job/${this.job_id}/`)\n            .then(d => {\n                const data = d.data\n                console.log(data)\n\n                this.name.value = data.name\n                this.stipend.value = data.stipend\n                this.location.value = data.location\n                this.no_of_opening.value = data.no_of_opening\n                this.job_type.value = data.job_type\n                this.duration.value = data.duration\n                this.brief.value=data.brief\n\n                this.about_the_job.set_value(data.about_the_job)\n                this.skills_required.set_value(data.skills_required)\n                this.who_can_apply.set_value(data.who_can_apply)\n                this.perks.set_value(data.perks)\n\n                this.setState({\n                    apply_by: new Date(data.apply_by),\n                    start_date: new Date(data.start_date),\n                    initial_load: false,\n                })\n            })\n    }\n\n    static propTypes = {\n        auth: PropTypes.object.isRequired,\n    }\n\n\n    _new_opening = e => {\n        e.preventDefault()\n\n        this.setState({\n            requesting: true\n        })\n\n        if(this.name.value.length<1){\n            this.setState({\n                success:false,\n                err_num:[...this.state.err_num,0],\n                validate:false,\n                requesting: false\n            })\n\n            \n\n            console.log(\"This runs 0\")\n\n            return\n        }\n\n\n        if(this.brief.value.length<1){\n            this.setState({\n                success:false,\n                err_num:[...this.state.err_num,1],\n                validate:false,\n                requesting: false\n            })\n            return\n        }\n\n        if(this.stipend.value.length<1){\n            this.setState({\n                success:false,\n                err_num:[...this.state.err_num,2],\n                validate:false,\n                requesting: false\n            })\n            return\n        }\n\n        if(this.location.value.length<1){\n            this.setState({\n                success:false,\n                err_num:[...this.state.err_num,3],\n                validate:false,\n                requesting: false\n            })\n            return\n        }\n\n        if(this.state.apply_by===null){\n            this.setState({\n                success:false,\n                err_num:[...this.state.err_num,4],\n                validate:false,\n                requesting: false\n            })\n            return\n        }\n\n        if(this.state.start_date===null){\n            this.setState({\n                success:false,\n                err_num:[...this.state.err_num,5],\n                validate:false,\n                requesting: false\n            })\n            return\n        }\n\n        if(this.no_of_opening.value<=0 || this.no_of_opening.value===null){\n            this.setState({\n                success:false,\n                err_num:[...this.state.err_num,6],\n                validate:false,\n                requesting: false\n            })\n            return\n        }\n\n        if(this.duration.value.length<1){\n            this.setState({\n                success:false,\n                err_num:[...this.state.err_num,7],\n                validate:false,\n                requesting: false\n            })\n            return\n        }\n\n\n       \n\n        if(!this.about_the_job.check_input()){\n            this.setState({\n                success:false,\n                err_num:[...this.state.err_num,8],\n                validate:false,\n                requesting: false\n            })\n\n            console.log(\"This runs 2\")\n            return\n        }\n\n        if(!this.skills_required.check_input()){\n            this.setState({\n                success:false,\n                err_num:[...this.state.err_num,9],\n                validate:false,\n                requesting: false\n            })\n\n            console.log(\"This runs 2\")\n            return\n        }\n\n        if(!this.who_can_apply.check_input()){\n            this.setState({\n                success:false,\n                err_num:[...this.state.err_num,10],\n                validate:false,\n                requesting: false\n            })\n\n            console.log(\"This runs 2\")\n            return\n        }\n\n        if(!this.perks.check_input()){\n            this.setState({\n                success:false,\n                err_num:[...this.state.err_num,11],\n                validate:false,\n                requesting: false\n            })\n\n            console.log(\"This runs 2\")\n            return\n        }\n\n        console.log(this.state.validate)\n\n\n        let url = '/iportal/job/'\n        let reqtype = faxios().post\n\n        if (this.job_id) {\n            url = `/iportal/job/${this.job_id}/`\n            reqtype = faxios().put\n        }\n\n        reqtype(url, {\n            \"startup\": this.props.auth.startup_id,\n            \"name\": this.name.value,\n            \"stipend\": this.stipend.value,\n            \"location\": this.location.value,\n            \"no_of_opening\": this.no_of_opening.value,\n            \"job_type\": this.job_type.value,\n            \"duration\": this.duration.value,\n\n            \"apply_by\": this.state.apply_by,\n            \"start_date\": this.state.start_date,\n            \"brief\":this.brief.value,\n            \"about_the_job\": this.about_the_job.get_value(),\n            \"skills_required\": this.skills_required.get_value(),\n            \"who_can_apply\": this.who_can_apply.get_value(),\n            \"perks\": this.perks.get_value(),\n        }).then(d => {\n            const data = d.data\n            console.log(data)\n            this.props.history.goBack()\n        }).catch(d => {\n            let data = d.response.data\n            console.log(data)\n            this.setState({ errors: data, requesting: false })\n        })\n    }\n\n    _delete_opening = () => {\n        faxios().delete(`/iportal/job/${this.job_id}/`)\n            .then(d=>{\n                this.props.history.goBack()\n            })\n    }\n\n    render() {\n        let error_html = {}\n        Object.keys(this.state.errors).forEach((key) => {\n            error_html[key] = this.state.errors[key].map((ele, i) =>\n                <div key={i} className=\"text-danger\">{ele}</div>\n            )\n        })\n\n        let char_size=200-this.state.max_chars.length\n\n        let idea_size_text=char_size>=0?char_size:<i className=\"font-weight-bold text-danger\">Limit exceeded</i>;\n        \n\n\n        return (\n                <div className='jumbo container hoverable jumbotron' style={{marginTop:\"\"}}> \n                    <div >\n                        <button \n                            onClick={() => this.props.history.goBack()}\n                            className=\"btn btn-info font-weight-bold\">Go back</button>\n                        <h1 className=\"text-center open font-weight-bold flex-grow-1 my-5\">\n                            {this.job_id ? 'Edit Work Profile' : <Fragment>\n                                    <div>Create new work profile</div>\n                                    <div><h6><i className=\"font-weight-bold\">(All fields are mandatory)</i></h6></div>\n                                </Fragment>}\n                        </h1>\n                        {this.job_id? <button \n                            onClick={this._delete_opening}\n                            className=\"btn btn-danger mb-4 font-weight-bold align-self-center\" style={{position:\"relative\",left:\"50%\",transform:\"translate(-50%,0)\"}}>Delete</button>:null}\n                    </div>\n\n                    {this.state.initial_load ? <div className=\"my-5\">\n                        <h1 className=\"text-center\">\n                            <i className=\"fa fa-spinner fa-spin\"></i>\n                        </h1>\n                    </div> : null}\n\n                    <form>\n                        <div className=\"form-group\">\n                            <label className=\"font-weight-bold\">Work Profile Name</label>\n                            <input type=\"text\" ref={ele => this.name = ele} className=\"form-control\" />\n                            {this.state.err_num.indexOf(0)!=-1 && this.state.validate==false && this.name.value.length===0 ?<Fragment>\n                                <div className=\"font-weight-bold text-danger\">This field is required</div>\n                            </Fragment>:null}\n                            {/* {error_html['name']} */}\n                        </div>\n\n                        <div className=\"form-group\">\n                        <label><label className=\"font-weight-bold\">Brief</label>&nbsp;&nbsp;<i>(Chars allowed: &nbsp;{idea_size_text})</i></label>\n                            \n                            <input onChange={(e) => this.setState({max_chars: e.target.value})} type=\"text\" ref={ele => this.brief = ele} className=\"form-control\" />\n                            {this.state.err_num.indexOf(1)!=-1 && this.state.validate==false && this.brief.value.length===0 ?<Fragment>\n                                <div className=\"font-weight-bold text-danger\">This field is required</div>\n                            </Fragment>:null}\n                            {/* {error_html['name']} */}\n                        </div>\n\n                        <div className=\"form-group\">\n                            <label className=\"font-weight-bold\">Stipend</label>\n                            <input type=\"text\" ref={ele => this.stipend = ele} className=\"form-control\" />\n                            {this.state.err_num.indexOf(2)!=-1 && this.state.validate==false && this.stipend.value.length===0 ?<Fragment>\n                                <div className=\"font-weight-bold text-danger\">This field is required</div>\n                            </Fragment>:null}\n                            {/* {error_html['stipend']} */}\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"font-weight-bold\">Location</label>\n                            <input type=\"email\" ref={ele => this.location = ele} className=\"form-control\" />\n                            {this.state.err_num.indexOf(3)!=-1 && this.state.validate==false && this.location.value.length===0 ?<Fragment>\n                                <div className=\"font-weight-bold text-danger\">This field is required</div>\n                            </Fragment>:null}\n                            {/* {error_html['location']} */}\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"font-weight-bold\">Apply by</label>\n                            <Datetime isValidDate={ valid } value={this.state.apply_by} onChange={e => this.setState({ apply_by: e })} />\n                            {this.state.err_num.indexOf(4)!=-1 && this.state.validate==false && this.state.apply_by===null ?<Fragment>\n                                <div className=\"font-weight-bold text-danger\">This field is required</div>\n                            </Fragment>:null}\n                            {/* {error_html['apply_by']} */}\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"font-weight-bold\">Start Date</label>\n                            <Datetime isValidDate={ valid } value={this.state.start_date} onChange={e => this.setState({ start_date: e })} />\n                            {this.state.err_num.indexOf(5)!=-1 && this.state.validate==false && this.state.start_date===null ?<Fragment>\n                                <div className=\"font-weight-bold text-danger\">This field is required</div>\n                            </Fragment>:null}\n                            {/* {error_html['state_date']} */}\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"font-weight-bold\">No of Openings</label>\n                            <input type=\"number\" ref={ele => this.no_of_opening = ele} className=\"form-control\" />\n                            {this.state.err_num.indexOf(6)!=-1 && this.state.validate==false && (this.no_of_opening.value<=0 || this.no_of_opening.value===null) ?<Fragment>\n                                <div className=\"font-weight-bold text-danger\">This field is required with valid input</div>\n                            </Fragment>:null}\n                            {/* {error_html['no_of_opening']} */}\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"font-weight-bold\">Duration</label>\n                            <input type=\"text\" ref={ele => this.duration = ele} className=\"form-control\" />\n                            {/* {error_html['duration']} */}\n                            {this.state.err_num.indexOf(7)!=-1 && this.state.validate==false && this.duration.value.length===0 ?<Fragment>\n                                <div className=\"font-weight-bold text-danger\">This field is required</div>\n                            </Fragment>:null}\n                        </div>\n                            \n                        <div className=\"form-group\">\n                            <label className='mr-2 font-weight-bold d-inline-block'>Job type</label>\n                            <select className=\"form-control\" ref={ele => this.job_type = ele}>\n                                <option value='Internship'>Internship</option>\n                                <option value='Internship with job offer'>Internship with job offer</option>\n                                <option value='Full time employee'>Full time employee</option>\n                                <option value='Parttime'>Part time</option>\n                                <option value='Freelance'>Freelance</option>\n                            </select>\n                            {/* {error_html['job_type']} */}\n                        </div>\n                        <div className=\"form-group\">\n\n                            <label className=\"font-weight-bold\">About the job</label>\n                            {/* {error_html['about_the_job']} */}\n                            <Wysiwyg onRef={ref => this.about_the_job = ref} />\n                            {this.state.err_num.indexOf(8)!=-1 && this.state.validate==false && !this.about_the_job.check_input()?<Fragment>\n                                <div className=\"font-weight-bold text-danger\">This field is required</div>\n                            </Fragment>:null}\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"font-weight-bold\">Skills required</label>\n                            {/* {error_html['skills_required']} */}\n                            <Wysiwyg onRef={ref => this.skills_required = ref} />\n                            {this.state.err_num.indexOf(9)!=-1 && this.state.validate==false && !this.skills_required.check_input()?<Fragment>\n                                <div className=\"font-weight-bold text-danger\">This field is required</div>\n                            </Fragment>:null}\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"font-weight-bold\">Who can apply</label>\n                            {/* {error_html['who_can_apply']} */}\n                            <Wysiwyg onRef={ref => this.who_can_apply = ref} />\n                            {this.state.err_num.indexOf(10)!=-1 && this.state.validate==false && !this.who_can_apply.check_input()?<Fragment>\n                                <div className=\"font-weight-bold text-danger\">This field is required</div>\n                            </Fragment>:null}\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"font-weight-bold\">Perks</label>\n                            {/* {error_html['perks']} */}\n                            <Wysiwyg onRef={ref => this.perks = ref} />\n                            {this.state.err_num.indexOf(11)!=-1 && this.state.validate==false && !this.perks.check_input()?<Fragment>\n                                <div className=\"font-weight-bold text-danger\">This field is required</div>\n                            </Fragment>:null}\n                        </div>\n\n\n                        <div className=\"text-center\">\n                            <div>{this.state.validate==false?<i className=\"font-weight-bold text-danger\">(Some fields are empty or invalid, recheck and try agin)</i>:null}</div>\n                            <button disabled={this.state.requesting} onClick={this._new_opening} className=\"btn btn-primary font-weight-bold\">{this.state.requesting ? <i className=\"fa fa-spinner fa-spin\"></i> : 'submit'}</button>\n                        </div>\n                    </form>\n\n                </div>\n\n        )\n    }\n}\n\n\n\nconst mapStateToProps = (state) => state\n\nexport default connect(mapStateToProps)(new_opening)\n","import React, { Component } from 'react'\nimport './wysiwyg.scss'\n\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport { Editor } from 'react-draft-wysiwyg';\nimport { EditorState, convertToRaw, ContentState } from 'draft-js'\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs';\n\n\n\nexport default class summernote extends Component {\n  state = {\n    editorState: EditorState.createEmpty()\n  }\n\n  componentDidMount() {\n    this.props.onRef(this)\n  }\n\n  set_value = html => {\n    const contentBlock = htmlToDraft(html);\n    if (contentBlock) {\n      const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\n      const editorState = EditorState.createWithContent(contentState);\n      this.setState({editorState})\n    }\n  }\n\n  get_value = () => draftToHtml(convertToRaw(this.state.editorState.getCurrentContent()))\n\n  check_input =()=>{\n    return this.state.editorState.getCurrentContent().hasText()\n  }\n\n\n  render() {\n    return (\n      <div className=\"wysiwyg\">\n        <Editor\n          editorState={this.state.editorState}\n          toolbarClassName=\"toolbarClassName\"\n          wrapperClassName=\"wrapperClassName\"\n          editorClassName=\"editorClassName\"\n          onEditorStateChange={editorState => this.setState({ editorState })}\n        />\n      </div>\n    )\n  }\n}\n"],"sourceRoot":""}