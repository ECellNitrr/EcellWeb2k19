(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[22],{370:function(e,t,a){},371:function(e,t,a){e.exports=a.p+"static/media/logo.e4e170ee.png"},49:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(74),r=a.n(n),l=a(34),s="https://ecell.nitrr.ac.in";s="",t.b=function(){var e=void 0,t=l.store.getState().auth;return t&&(e=t.loggedin?t.token:void 0),r.a.create({baseURL:s,headers:{Authorization:e,Access:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnQiOiJhbmRyb2lkIiwib3JnYW5pemF0aW9uIjoiRUNlbGwifQ.H2aaDJuOxK44D2kwRCWwv9s5rzJGCNYKT3thtQqN-hQ"}})}},55:function(e,t,a){"use strict";a.d(t,"f",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return i})),a.d(t,"b",(function(){return m}));var n,r=a(26),l=(n={GST:"Guest",VLT:"Voluteer",EXE:"Executive",MNG:"Manager",HCO:"Head Co-ordinator",OCO:"Overall Co-ordinator",CAB:"Campus Ambassador"},Object(r.a)(n,"CAB","Campus Ambassador"),Object(r.a)(n,"DRT","Director"),Object(r.a)(n,"CDC","CDC Admin"),n),s={PND:"pending",RJD:"rejected",HRD:"hired",URV:"under review"},c=function(e){try{return e=(e=new Date(e)).toISOString(),"".concat(e.slice(8,10),"-").concat(e.slice(5,7),"-").concat(e.slice(0,4))}catch(t){return"invalid-format"}},o=["Accountancy","Banking","Finance","Business","Consulting","Management","Charity","Design","Engineering","Agriculture","Healthcare","Hospitality","IT","Law","Security","Leisure","Sport","Tourism","Marketing","Advertising","PR","Media","Construction","Public Services","Administration","Retail","Sales","Science","Social Care","Teacher Training","Education","Transport","Logistics","Others"],i=["Select","Student","Faculty"],m=[{course:"B Tech",display_name:"Bachelor of Technology",branch:[{name:"Biomed",display_name:"Bio Medical Engineering",semester:["2","4","6","8"]},{name:"Biotech",display_name:"Bio Technology Engineering",semester:["2","4","6","8"]},{name:"Chemical",display_name:"Chemical Engineering",semester:["2","4","6","8"]},{name:"Civil",display_name:"Civil Engineering",semester:["2","4","6","8"]},{name:"CSE",display_name:"Computer Science Engineering",semester:["2","4","6","8"]},{name:"ELEX",display_name:"Electronics and communication Engineering",semester:["2","4","6","8"]},{name:"Electrical",display_name:"Electrical Engineering",semester:["2","4","6","8"]},{name:"IT",display_name:"Information Technology",semester:["2","4","6","8"]},{name:"Mech",display_name:"Mechanical Engineering",semester:["2","4","6","8"]},{name:"Meta",display_name:"Metallurgical and Materials Engineering",semester:["2","4","6","8"]},{name:"Mining",display_name:"Mining Engineering",semester:["2","4","6","8"]},{name:"Others",display_name:"",semester:["2","4","6","8"]}]},{course:"M Tech",display_name:"Master of Technology",branch:[{name:"Biomed",display_name:"Bio Medical Engineering",semester:["2","4"]},{name:"Biotech",display_name:"Bio Technology Engineering",semester:["2","4"]},{name:"Chemical",display_name:"Chemical Engineering",semester:["2","4"]},{name:"Civil",display_name:"Civil Engineering",semester:["2","4"]},{name:"CSE",display_name:"Computer Science Engineering",semester:["2","4"]},{name:"ELEX",display_name:"Electronics and communication Engineering",semester:["2","4"]},{name:"Electrical",display_name:"Electrical Engineering",semester:["2","4"]},{name:"IT",display_name:"Information Technology",semester:["2","4"]},{name:"Mech",display_name:"Mechanical Engineering",semester:["2","4"]},{name:"Meta",display_name:"Metallurgical and Materials Engineering",semester:["2","4","6","8"]},{name:"Mining",display_name:"Mining Engineering",semester:["2","4","6","8"]},{name:"Others",display_name:"",semester:["2","4","6","8"]}]},{course:"MBA",display_name:"Master of Business Administration",branch:[{name:"Finance",display_name:"Finance",semester:["2","4"]},{name:"Marketing",display_name:"Marketing",semester:["2","4"]},{name:"HRM",display_name:"Human Recourse Management",semester:["2","4"]},{name:"IB",display_name:"International Business",semester:["2","4"]},{name:"OM",display_name:"Operation Management",semester:["2","4"]},{name:"SCM",display_name:"Supply Chain Management",semester:["2","4"]},{name:"RM",display_name:"Rural Management",semester:["2","4"]},{name:"ABM",display_name:"Agri Business Management",semester:["2","4"]},{name:"HCM",display_name:"Health Care Management",semester:["2","4"]},{name:"Others",display_name:"Others",semester:["2","4"]}]},{course:"B Arch",display_name:"Bachelor of Science",branch:[{name:"LA",display_name:"Landscape Architecture",semester:["2","4","6","8","10"]},{name:"AC",display_name:"Architectural Conservation",semester:["2","4","6","8","10"]},{name:"HA",display_name:"Housing Architecture",semester:["2","4","6","8","10"]},{name:"UP",display_name:"Urban Planning",semester:["2","4","6","8","10"]},{name:"RP",display_name:"Regional Planning",semester:["2","4","6","8","10"]}]},{course:"B Sc",display_name:"Bachelor of Architecture",branch:[{name:"HM",display_name:"Hotel Management",semester:["2","4","6"]},{name:"AS",display_name:"Aernautical Science",semester:["2","4","6"]},{name:"Medical",display_name:"Medical Science",semester:["2","4","6"]},{name:"Biology",display_name:"Biologcal Science",semester:["2","4","6"]},{name:"AVE",display_name:"Animation and Visual Effects",semester:["2","4","6"]},{name:"Chemistry",display_name:"Applied Chemistry",semester:["2","4","6"]},{name:"Maths",display_name:"Applied Mathemartics",semester:["2","4","6"]},{name:"Physics",display_name:"Applied Physics",semester:["2","4","6"]}]}]},61:function(e,t,a){"use strict";a.r(t),a.d(t,"updateUser",(function(){return n}));var n=function(e){return function(t){t({type:"update_user",payload:e})}}},613:function(e,t,a){"use strict";a.r(t),a.d(t,"ca_portal",(function(){return q}));var n=a(11),r=a(12),l=a(14),s=a(13),c=a(0),o=a.n(c),i=a(9),m=a(25),u=a(61),d=(a(370),a(24)),p=a(6),f=a(55),h=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).base_route="/caportal/ca/",e._logout=function(t){console.log(e.props.auth),e.props.updateUser({loggedin:!1}),e.props.history.push("/")},e}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"navbar"},o.a.createElement("div",{className:"container d-flex"},o.a.createElement("div",{className:"d-flex flex-grow-1"},o.a.createElement(d.c,{activeClassName:"active_navlink",exact:!0,className:"navlink",to:this.base_route+""},"Dashboard"),o.a.createElement(d.c,{activeClassName:"active_navlink",exact:!0,className:"navlink",to:this.base_route+"tasks/"},"New Posts"),o.a.createElement(d.c,{activeClassName:"active_navlink",exact:!0,className:"navlink",to:this.base_route+"submited_tasks/"},"Submited Posts"),o.a.createElement(d.c,{activeClassName:"active_navlink",exact:!0,className:"navlink",to:this.base_route+"leaderboard/"},"Leaderboard")),o.a.createElement("div",{className:"username"},this.props.auth.first_name.toUpperCase()," ",this.props.auth.last_name.toUpperCase()),o.a.createElement("div",{className:"username"},f.f[this.props.auth.user_type]),o.a.createElement("div",null,o.a.createElement("button",{onClick:this._logout,className:"navlink logout_btn"},"logout"))))}}]),a}(c.Component),E=Object(p.d)(Object(m.b)((function(e){return e}),u),i.g)(h),v=a(18),b=a(91),g=a(49),_=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).task_id=Number(e.props.match.params.task_id),e.review_id=Number(e.props.match.params.review_id),e.review=e.props.location.pathname.indexOf("submited_tasks")>0,e.state={error:{},task:{},selected_imgs:[],uploaded_imgs:[]},e._upload_img=function(t,a){t.preventDefault();var n=e.state.selected_imgs.find((function(e){return e.src===a})),r=new FormData,l=new XMLHttpRequest;r.append("proof_by",e.props.auth.id),r.append("proof_pic",n.file),r.append("task",e.task_id);var s=e.state.selected_imgs,c=s.findIndex((function(e){return e.src==a}));s[c].progress=0,e.setState({selected_imgs:s}),l.addEventListener("load",(function(t){console.log(t),e.setState({selected_imgs:e.state.selected_imgs.filter((function(e){return e.src!==a})),uploaded_imgs:[].concat(Object(b.a)(e.state.uploaded_imgs),[JSON.parse(t.target.response)])})})),l.upload.addEventListener("progress",(function(t){var n=Math.round(t.loaded/t.total*100);console.log({progress:n});var r=e.state.selected_imgs,l=r.findIndex((function(e){return e.src==a}));r[l].progress=n,e.setState({selected_imgs:r})})),l.open("post",g.a+"/portal/reviews/"),l.setRequestHeader("Authorization",e.props.auth.token),l.send(r)},e._select_img=function(t){t.preventDefault();var a=document.createElement("input");a.type="file",a.multiple=!0,a.accept="image/x-png,image/gif,image/jpeg",a.click(),a.addEventListener("change",(function(t){var a=t.target.files;Array.from(a).forEach((function(t){var a=new FileReader;a.addEventListener("load",(function(n){e.setState({selected_imgs:[].concat(Object(b.a)(e.state.selected_imgs),[{src:a.result,file:t}])})})),a.readAsDataURL(t)}))}))},e._remove_img=function(t,a){t.preventDefault(),e.setState({selected_imgs:e.state.selected_imgs.filter((function(e){return e.src!==a}))})},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(g.b)().get("/portal/tasks/".concat(this.task_id,"/")).then((function(t){console.log(t.data);var a=t.data,n=new Date(a.created_at);a.created_at=n.toDateString();var r=a.uploaded_imgs.map((function(e){return e.proof_pic=g.a+e.proof_pic,e}));e.setState({task:Object(v.a)(Object(v.a)({},a),{},{uploaded_imgs:void 0}),uploaded_imgs:r})}))}},{key:"render",value:function(){var e=this,t=this.state.error,a=Object.keys(t).map((function(e){return o.a.createElement("div",{className:"text-danger text-center",key:e},e,": ",t[e].join(""))})),n=this.state.task;this.review&&(n=n.task_obj);var r=this.state.selected_imgs.map((function(t,a){return o.a.createElement("div",{className:"upload_img",key:a},o.a.createElement("div",null,o.a.createElement("img",{src:t.src,alt:"selected img shadow"}),o.a.createElement("div",{className:"d-flex justify-content-center"},t.progress>0?o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"progress flex-grow-1"},o.a.createElement("div",{className:"progress-bar progress-bar-striped",role:"progressbar",style:{width:"".concat(t.progress,"%")}})),o.a.createElement("div",{className:"text-center font-weight-bold"},t.progress,"%")):o.a.createElement(c.Fragment,null,o.a.createElement("button",{onClick:function(a){return e._upload_img(a,t.src)},className:"btn btn-success mt-0"},o.a.createElement("i",{className:"fa fa-upload"})," Upload"),o.a.createElement("button",{onClick:function(a){return e._remove_img(a,t.src)},className:"btn btn-danger mt-0"},o.a.createElement("i",{className:"fa fa-times"})," Remove")))))})),l=this.state.uploaded_imgs.map((function(e,t){return o.a.createElement("div",{className:"upload_img",key:t},o.a.createElement("div",null,o.a.createElement("img",{src:e.proof_pic,alt:"selected img shadow"})),o.a.createElement("div",{className:"points"},"Points: ",e.points>-1?e.points:"review pending"))}));return r=o.a.createElement("div",{className:"d-flex flex-wrap justify-content-center"},r),o.a.createElement("div",{className:"user_detail container"},o.a.createElement("div",{className:"d-flex my-5 justify-content-between"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.props.history.goBack()}},"go back"),o.a.createElement("h2",null,this.review?"Submitted for review":"Submit for review"),o.a.createElement("div",null)),o.a.createElement("div",{className:"task"},o.a.createElement("div",null,o.a.createElement("span",{className:"font-weight-bold mr-3"},"Post title:"),o.a.createElement("span",null,n.name)),o.a.createElement("div",null,o.a.createElement("span",{className:"font-weight-bold mr-3"},"Description:"),o.a.createElement("span",null,n.description?n.description:"none")),o.a.createElement("div",null,o.a.createElement("span",{className:"font-weight-bold mr-3"},"Platform:"),o.a.createElement("span",null,n.platform)),o.a.createElement("div",null,o.a.createElement("span",{className:"font-weight-bold mr-3"},"URL:"),o.a.createElement("span",null,n.url?n.url:"none")),o.a.createElement("div",null,o.a.createElement("span",{className:"font-weight-bold mr-3"},"Create on:"),o.a.createElement("span",null,n.created_at))),o.a.createElement("form",{className:""},a,this.state.error?a:null,o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{onClick:this._select_img,className:"btn btn-primary"},o.a.createElement("i",{className:"fa fa-image"})," Select screenshots")),o.a.createElement("div",{className:"my-3 text-center"},o.a.createElement("h3",null,"Selected imgs:"),this.state.selected_imgs.length>0?r:"none"),this.state.uploaded_imgs.length>0?o.a.createElement("div",{className:"my-3 text-center"},o.a.createElement("h3",null,"Uploaded imgs:"),o.a.createElement("div",{className:"d-flex flex-wrap justify-content-center"},l)):null))}}]),a}(c.Component),y=Object(m.b)((function(e){return e}))(_),N=function(e){Object(l.a)(c,e);var t=Object(s.a)(c);function c(){return Object(n.a)(this,c),t.apply(this,arguments)}return Object(r.a)(c,[{key:"render",value:function(){return o.a.createElement("div",{className:"dashbord container"},o.a.createElement("div",{className:"d-flex flex-wrap mt-5"},o.a.createElement("div",{className:""},o.a.createElement("img",{className:"ecell-logo",src:a(371),alt:"ecell logo"})),o.a.createElement("div",{className:"text-center flex-grow-1"},o.a.createElement("h1",{className:"text-center mt-5"},"Campus Ambassador Portal"),o.a.createElement("h3",{className:"text-center mt-3"},"Entrepreneurship Cell, NIT Raipur"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 font-weight-bold text-center text-md-right"},"First name:"),o.a.createElement("div",{className:"col-md-6 text-center text-md-left"},this.props.auth.first_name)),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 font-weight-bold text-center text-md-right"},"Last name:"),o.a.createElement("div",{className:"col-md-6 text-center text-md-left"},this.props.auth.last_name)),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 font-weight-bold text-center text-md-right"},"Email:"),o.a.createElement("div",{className:"col-md-6 text-center text-md-left"},this.props.auth.email)),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 font-weight-bold text-center text-md-right"},"User Type:"),o.a.createElement("div",{className:"col-md-6 text-center text-md-left"},f.f[this.props.auth.user_type])),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 font-weight-bold text-center text-md-right"},"Contact:"),o.a.createElement("div",{className:"col-md-6 text-center text-md-left"},this.props.auth.contact)),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 font-weight-bold text-center text-md-right"},"OTP Verified:"),o.a.createElement("div",{className:"col-md-6 text-center text-md-left"},this.props.auth.verified?o.a.createElement("i",{className:"fa fa-check text-success"}):o.a.createElement("i",{className:"fa fa-times text-danger"}))))}}]),c}(c.Component),k=Object(m.b)((function(e){return e}))(N),O=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={tasks:[],loading:!0},e._createTask=function(){e.props.history.push("/caportal/admin/create_task/")},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(g.b)().get("/portal/non_submited_tasks/").then((function(t){console.log(t.data);var a=t.data.sort((function(e,t){return t.id-e.id}));a=a.map((function(e){var t=new Date(e.created_at);return e.created_at=t.toDateString(),e})),e.setState({tasks:a,loading:!1})}))}},{key:"render",value:function(){var e=this.state.tasks.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,t+1),o.a.createElement("td",null,o.a.createElement(d.b,{className:"detail_link",to:"/caportal/ca/tasks/".concat(e.id,"/")},e.name)),o.a.createElement("td",null,e.platform),o.a.createElement("td",null,e.created_at))}));return o.a.createElement("div",{className:"tasks_list container"},o.a.createElement("div",{className:"d-flex my-4"},o.a.createElement("h2",{className:" flex-grow-1 text-center"},"Posts List")),o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"#"),o.a.createElement("th",null,"Task name"),o.a.createElement("th",null,"Platform"),o.a.createElement("th",null,"Created on"))),o.a.createElement("tbody",null,e)),this.state.loading?o.a.createElement("h3",{className:"text-center"},"...loading"):null,this.state.loading||0!==this.state.tasks.length?null:o.a.createElement("h3",{className:"text-center"},"no more new posts :)"))}}]),a}(c.Component),x=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={tasks:[],loading:!0},e._fetch=function(){Object(g.b)().get("/portal/submited_tasks/").then((function(t){console.log(t.data);var a=t.data.sort((function(e,t){return t.id-e.id}));a=a.map((function(e){var t=new Date(e.created_at);return e.created_at=t.toDateString(),e})),e.setState({tasks:a,loading:!1})}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this._fetch()}},{key:"render",value:function(){var e=this.state.tasks.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,t+1),o.a.createElement("td",null,o.a.createElement(d.b,{className:"detail_link",to:"/caportal/ca/tasks/".concat(e.id,"/")},e.name)),o.a.createElement("td",null,e.platform),o.a.createElement("td",null,e.uploaded_imgs.reviewed,"/",e.uploaded_imgs.total),o.a.createElement("td",null,e.uploaded_imgs.points))}));return o.a.createElement("div",{className:"tasks_list container"},o.a.createElement("div",{className:"d-flex my-4"},o.a.createElement("h2",{className:" flex-grow-1 text-center"},"Submitted Posts")),o.a.createElement("table",{className:"table table-striped mt-3"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"#"),o.a.createElement("th",null,"Task name"),o.a.createElement("th",null,"Platform"),o.a.createElement("th",null,"Reviewed"),o.a.createElement("th",null,"Points"))),o.a.createElement("tbody",null,e)),this.state.loading?o.a.createElement("h3",{className:"text-center"},"...loading"):null,this.state.loading||0!==this.state.tasks.length?null:o.a.createElement("h3",{className:"text-center"},"no submitted post available"))}}]),a}(c.Component),w=Object(m.b)((function(e){return e}))(x),j=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={users:[],loading:!0},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(g.b)().get("/portal/ranklist/").then((function(t){var a=t.data.sort((function(e,t){return t.total_points-e.total_points}));a.map((function(e){var t=new Date(e.created_at);return e.created_at=t.toDateString(),e})),console.log(a),e.setState({users:a,loading:!1})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this.state.users.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,t+1),o.a.createElement("td",null,e.first_name.toUpperCase()," ",e.last_name.toUpperCase()),o.a.createElement("td",null,e.total_points))}));return o.a.createElement("div",{className:"ranklist_list container"},o.a.createElement("div",{className:"d-flex my-4"},o.a.createElement("h2",{className:" flex-grow-1 text-center"},"Leaderboard")),o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Rank"),o.a.createElement("th",null,"Campus Ambassador"),o.a.createElement("th",null,"Points"))),o.a.createElement("tbody",null,e)),this.state.loading?o.a.createElement("h3",{className:"text-center mt-3"},"...loading"):null)}}]),a}(c.Component),C=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).base_route="/caportal/ca/",e}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(E,null),o.a.createElement(i.d,null,o.a.createElement(i.b,{path:this.base_route+"submited_tasks/",component:w}),o.a.createElement(i.b,{path:this.base_route+"tasks/:task_id/",component:y}),o.a.createElement(i.b,{path:this.base_route+"tasks/",component:O}),o.a.createElement(i.b,{path:this.base_route+"leaderboard/",component:j}),o.a.createElement(i.b,{path:this.base_route+"",component:k})))}}]),a}(c.Component),S=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).user_id=e.props.match.params.user_id,e.state={},e._updateUser=function(t){t.preventDefault(),Object(g.b)().put("/portal/users/".concat(e.user_id,"/"),Object(v.a)(Object(v.a)({},e.state),{},{username:e.username.value,first_name:e.first_name.value,last_name:e.last_name.value,user_type:e.user_type.value,applied:e.applied.checked,verified:e.verified.checked})).then((function(t){console.log(t.data),e.props.history.goBack()}))},e._deleteUser=function(t){t.preventDefault(),Object(g.b)().delete("/portal/users/".concat(e.user_id,"/")).then((function(t){console.log(t.data),e.props.history.goBack()}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),Object(g.b)().get("/portal/users/".concat(this.user_id,"/")).then((function(t){var a=t.data;e.username.value=a.username,e.first_name.value=a.first_name,e.last_name.value=a.last_name,e.contact.value=a.contact,e.user_type.value=a.user_type,e.applied.checked=a.applied,e.verified.checked=a.verified,e.setState(t.data)}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"user_detail container"},o.a.createElement("div",{className:"d-flex my-5 justify-content-between"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.props.history.goBack()}},"go back"),o.a.createElement("h2",null,"User details"),o.a.createElement("div",null)),o.a.createElement("form",{className:""},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Email:"),o.a.createElement("input",{className:"form-control",placeholder:"Username",ref:function(t){return e.username=t},disabled:!0,type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"First Name:"),o.a.createElement("input",{className:"form-control",placeholder:"First Name",ref:function(t){return e.first_name=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Last Name:"),o.a.createElement("input",{className:"form-control",placeholder:"Last Name",ref:function(t){return e.last_name=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Contact:"),o.a.createElement("input",{className:"form-control",placeholder:"contact",ref:function(t){return e.contact=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"User type:"),o.a.createElement("select",{className:"form-control",ref:function(t){return e.user_type=t}},o.a.createElement("option",{value:"GST"},"GST"),o.a.createElement("option",{value:"VLT"},"VLT"),o.a.createElement("option",{value:"EXE"},"EXE"),o.a.createElement("option",{value:"MNG"},"MNG"),o.a.createElement("option",{value:"HCO"},"HCO"),o.a.createElement("option",{value:"OCO"},"OCO"),o.a.createElement("option",{value:"CAB"},"CAB"))),o.a.createElement("div",{className:"form-check"},o.a.createElement("input",{className:"form-check-input",placeholder:"contact",ref:function(t){return e.applied=t},type:"checkbox"}),o.a.createElement("label",{className:"form-check-label"},"Applied:")),o.a.createElement("div",{className:"form-check"},o.a.createElement("input",{className:"form-check-input",placeholder:"contact",ref:function(t){return e.verified=t},type:"checkbox"}),o.a.createElement("label",{className:"form-check-label"},"Verified:")),o.a.createElement("div",{className:"text-center mt-3"},o.a.createElement("button",{onClick:this._deleteUser,className:"btn btn-danger"},"Delete"),o.a.createElement("button",{onClick:this._updateUser,className:"btn btn-success"},"Update"))))}}]),a}(c.Component),A=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).user_id=e.props.match.params.user_id,e.state={error:null},e._createUser=function(t){t.preventDefault(),e.setState({error:null}),Object(g.b)().post("/portal/create_user/",{email:e.email.value,first_name:e.first_name.value,last_name:e.last_name.value,user_type:e.user_type.value,contact:e.contact.value,applied:!0,verified:!0,password:e.password.value}).then((function(t){console.log(t.data),e.props.history.goBack()})).catch((function(t){console.log(t.response.data),e.setState({error:t.response.data.detail})}))},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=o.a.createElement("div",{className:"text-danger text-center"},this.state.error);return o.a.createElement("div",{className:"user_detail container"},o.a.createElement("div",{className:"d-flex my-5 justify-content-between"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.props.history.goBack()}},"go back"),o.a.createElement("h2",null,"Create user"),o.a.createElement("div",null)),o.a.createElement("form",{className:""},this.state.error?t:null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"First Name:"),o.a.createElement("input",{className:"form-control",placeholder:"First Name",ref:function(t){return e.first_name=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Last Name:"),o.a.createElement("input",{className:"form-control",placeholder:"Last Name",ref:function(t){return e.last_name=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Contact:"),o.a.createElement("input",{className:"form-control",placeholder:"Contact",ref:function(t){return e.contact=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Email:"),o.a.createElement("input",{className:"form-control",placeholder:"email",ref:function(t){return e.email=t},type:"email"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Password:"),o.a.createElement("input",{className:"form-control",placeholder:"Password",ref:function(t){return e.password=t},type:"password"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"User type:"),o.a.createElement("select",{className:"form-control",ref:function(t){return e.user_type=t}},o.a.createElement("option",{value:"GST"},"GST"),o.a.createElement("option",{value:"VLT"},"VLT"),o.a.createElement("option",{value:"EXE"},"EXE"),o.a.createElement("option",{value:"MNG"},"MNG"),o.a.createElement("option",{value:"HCO"},"HCO"),o.a.createElement("option",{value:"OCO"},"OCO"),o.a.createElement("option",{value:"CAB"},"CAB"))),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{onClick:this._createUser,className:"btn btn-success"},"Submit"))))}}]),a}(c.Component),M=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={ecell_users:[],loading:!0},e._to_cab=function(t){Object(g.b)().put("/portal/users/".concat(t.id,"/"),Object(v.a)(Object(v.a)({},t),{},{user_type:"CAB"})).then((function(a){var n=e.state.ecell_users,r=n.findIndex((function(e){return e.id===t.id}));console.log(r),n[r].user_type="CAB",e.setState({ecell_users:n})}))},e._createUser=function(){e.props.history.push("/caportal/admin/create_user/")},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(g.b)().get("/portal/users/").then((function(t){e.setState({ecell_users:t.data.sort((function(e,t){return t.id-e.id})),loading:!1})}))}},{key:"render",value:function(){var e=this,t=o.a.createElement("div",{className:"text-success"},o.a.createElement("i",{className:"fa fa-check"})),a=o.a.createElement("div",{className:"text-danger"},o.a.createElement("i",{className:"fa fa-times"})),n=this.state.ecell_users.map((function(n,r){return o.a.createElement("tr",{key:r},o.a.createElement("td",null,r+1),o.a.createElement("td",null,o.a.createElement(d.b,{className:"detail_link",to:"/caportal/admin/users/".concat(n.id,"/")},n.username)),o.a.createElement("td",null,n.verified?t:a),o.a.createElement("td",null,n.applied?t:a),o.a.createElement("td",null,n.otp),o.a.createElement("td",null,n.user_type," ","GST"===n.user_type?o.a.createElement("button",{onClick:function(){return e._to_cab(n)},className:"badge badge-dark"},"to CAB"):null," "))}));return o.a.createElement("div",{className:"users_list container"},o.a.createElement("div",{className:"d-flex my-4"},o.a.createElement("h2",{className:" flex-grow-1 text-center"},"Users List"),o.a.createElement("div",{className:"text-right"},o.a.createElement("button",{onClick:this._createUser,className:"btn btn-primary"},"create user ",o.a.createElement("i",{className:"fa fa-plus ml-2"})," "))),o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"#"),o.a.createElement("th",null,"Email"),o.a.createElement("th",null,"verified"),o.a.createElement("th",null,"Applied"),o.a.createElement("th",null,"otp"),o.a.createElement("th",null,"User Type"))),o.a.createElement("tbody",null,n)),this.state.loading?o.a.createElement("h3",{className:"text-center mt-3"},"...loading"):null)}}]),a}(c.Component),D=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={tasks:[]},e._createTask=function(){e.props.history.push("/caportal/admin/create_task/")},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(g.b)().get("/portal/task_list_admin/").then((function(t){var a=t.data.sort((function(e,t){return t.id-e.id}));a.map((function(e){var t=new Date(e.created_at);return e.created_at=t.toDateString(),e})),console.log(a),e.setState({tasks:a})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this.state.tasks.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,t+1),o.a.createElement("td",null,o.a.createElement(d.b,{className:"detail_link",to:"/caportal/admin/tasks/".concat(e.id,"/")},e.name)),o.a.createElement("td",null,e.platform),o.a.createElement("td",null,e.pending),o.a.createElement("td",null,e.accepted),o.a.createElement("td",null,e.created_at),o.a.createElement("td",null,o.a.createElement(d.b,{className:"p-1 badge badge-primary",to:"/caportal/admin/review_taskwise/".concat(e.id,"/")},"Review")," "))}));return o.a.createElement("div",{className:"tasks_list container"},o.a.createElement("div",{className:"d-flex my-4"},o.a.createElement("h2",{className:" flex-grow-1 text-center"},"Tasks List"),o.a.createElement("div",{className:"text-right"},o.a.createElement("button",{onClick:this._createTask,className:"btn btn-primary"},"create task ",o.a.createElement("i",{className:"fa fa-plus ml-2"})," "))),o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"#"),o.a.createElement("th",null,"Task name"),o.a.createElement("th",null,"Platform"),o.a.createElement("th",null,"Pending"),o.a.createElement("th",null,"Accepted"),o.a.createElement("th",null,"Created on"),o.a.createElement("th",null,"Submissions"))),o.a.createElement("tbody",null,e)))}}]),a}(c.Component),T=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).user_id=e.props.match.params.user_id,e.state={error:{}},e._createTask=function(t){t.preventDefault(),e.setState({error:{}}),Object(g.b)().post("/portal/tasks/",{madeby:e.author.value,name:e.name.value,description:e.description.value,url:e.url.value,platform:e.platform.value}).then((function(t){console.log(t.data),e.props.history.goBack()})).catch((function(t){console.log(t.response.data),e.setState({error:t.response.data})}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.author.value="".concat(this.props.auth.first_name.toUpperCase()," ").concat(this.props.auth.last_name.toUpperCase())}},{key:"render",value:function(){var e=this,t=this.state.error;console.log({errors:t});var a=Object.keys(t).map((function(e){return o.a.createElement("div",{className:"text-danger text-center",key:e},e,": ",t[e].join(""))}));return o.a.createElement("div",{className:"user_detail container"},o.a.createElement("div",{className:"d-flex my-5 justify-content-between"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.props.history.goBack()}},"go back"),o.a.createElement("h2",null,"Create Task"),o.a.createElement("div",null)),o.a.createElement("form",{className:""},a,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Author:"),o.a.createElement("input",{disabled:!0,className:"form-control",placeholder:"First Name",ref:function(t){return e.author=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Task Name:"),o.a.createElement("input",{className:"form-control",placeholder:"Task name",ref:function(t){return e.name=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Description:"),o.a.createElement("textarea",{className:"form-control",placeholder:"description",ref:function(t){return e.description=t},rows:"5"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"URL:"),o.a.createElement("input",{className:"form-control",placeholder:"url",ref:function(t){return e.url=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Platform:"),o.a.createElement("select",{className:"form-control",ref:function(t){return e.platform=t}},o.a.createElement("option",{value:"facebook"},"facebook"),o.a.createElement("option",{value:"whatsapp"},"whatsapp"),o.a.createElement("option",{value:"youtube"},"youtube"),o.a.createElement("option",{value:"instagram"},"instagram"),o.a.createElement("option",{value:"twitter"},"twitter"),o.a.createElement("option",{value:"linkedin"},"linkedin"))),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{onClick:this._createTask,className:"btn btn-success"},"Submit"))))}}]),a}(c.Component),B=Object(m.b)((function(e){return e}))(T),P=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).task_id=e.props.match.params.task_id,e.state={error:{}},e._updateTask=function(t){t.preventDefault(),Object(g.b)().put("/portal/tasks/".concat(e.task_id,"/"),{madeby:e.author.value,name:e.name.value,description:e.description.value,url:e.url.value,platform:e.platform.value}).then((function(t){console.log(t.data),e.props.history.goBack()}))},e._deleteTask=function(t){t.preventDefault(),Object(g.b)().delete("/portal/tasks/".concat(e.task_id,"/")).then((function(t){console.log(t.data),e.props.history.goBack()}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),Object(g.b)().get("/portal/tasks/".concat(this.task_id,"/")).then((function(t){var a=t.data;e.author.value=a.madeby,e.platform.value=a.platform,e.description.value=a.description,e.url.value=a.url,e.name.value=a.name,e.setState(t.data)}))}},{key:"render",value:function(){var e=this,t=this.state.error;console.log({errors:t});var a=Object.keys(t).map((function(e){return o.a.createElement("div",{className:"text-danger text-center",key:e},e,": ",t[e].join(""))}));return o.a.createElement("div",{className:"user_detail container"},o.a.createElement("div",{className:"d-flex my-5 justify-content-between"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.props.history.goBack()}},"go back"),o.a.createElement("h2",null,"Task detail"),o.a.createElement("div",null)),o.a.createElement("form",{className:""},a,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Author:"),o.a.createElement("input",{disabled:!0,className:"form-control",placeholder:"First Name",ref:function(t){return e.author=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Task Name:"),o.a.createElement("input",{className:"form-control",placeholder:"Task name",ref:function(t){return e.name=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Description:"),o.a.createElement("textarea",{className:"form-control",placeholder:"description",ref:function(t){return e.description=t},rows:"5"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"URL:"),o.a.createElement("input",{className:"form-control",placeholder:"url",ref:function(t){return e.url=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Platform:"),o.a.createElement("select",{className:"form-control",ref:function(t){return e.platform=t}},o.a.createElement("option",{value:"facebook"},"facebook"),o.a.createElement("option",{value:"whatsapp"},"whatsapp"),o.a.createElement("option",{value:"youtube"},"youtube"),o.a.createElement("option",{value:"instagram"},"instagram"),o.a.createElement("option",{value:"twitter"},"twitter"),o.a.createElement("option",{value:"linkedin"},"linkedin"))),o.a.createElement("div",{className:"text-center mt-3"},o.a.createElement("button",{onClick:this._deleteTask,className:"btn btn-danger"},"Delete"),o.a.createElement("button",{onClick:this._updateTask,className:"btn btn-success"},"Update"))))}}]),a}(c.Component),U=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).base_route="/caportal/admin/",e._logout=function(t){console.log(e.props.auth),e.props.updateUser({loggedin:!1}),e.props.history.push("/")},e}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"navbar"},o.a.createElement("div",{className:"container d-flex"},o.a.createElement("div",{className:"d-flex flex-grow-1"},o.a.createElement(d.c,{activeClassName:"active_navlink",exact:!0,className:"navlink",to:this.base_route+""},"Dashboard"),o.a.createElement(d.c,{activeClassName:"active_navlink",exact:!0,className:"navlink",to:this.base_route+"startups/"},"Ideas"),o.a.createElement(d.c,{activeClassName:"active_navlink",exact:!0,className:"navlink",to:this.base_route+"users/"},"EcellUsers")),o.a.createElement("div",{className:"username"},this.props.auth.first_name.toUpperCase()," ",this.props.auth.last_name.toUpperCase()),o.a.createElement("div",{className:"username"},f.f[this.props.auth.user_type]),o.a.createElement("div",null,o.a.createElement("button",{onClick:this._logout,className:"navlink logout_btn"},"logout"))))}}]),a}(c.Component),L=Object(p.d)(Object(m.b)((function(e){return e}),u),i.g)(U),I=a(372),R=a.n(I),H=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).task_id=e.props.match.params.task_id,e.state={reviews:[],status:"pending",modal_open:!1,modal_review_id:0},e._accept_review=function(t,a,n){t.preventDefault(),e.setState({modal_open:!1});var r=document.querySelector(n).value;"accepted"===e.state.status&&(r=prompt("plz enter new points for the post:"),console.log(r)),r>10||r<0||""===r||null===r?alert("points can be only within 0 and 10"):(r=Number(r),Object(g.b)().patch("/portal/reviews/".concat(a,"/"),{points:r}).then((function(t){var n=e.state.reviews,l=n.findIndex((function(e){return e.id===a}));n[l].points=r,e.setState({reviews:n})})))},e._closeModal=function(){e.setState({modal_open:!1})},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.state.status),Object(g.b)().get("/portal/reviews/?task=".concat(this.task_id)).then((function(t){var a=t.data.sort((function(e,t){return t.id-e.id}));console.log(a),a=a.map((function(e){var t=new Date(e.created_at);return e.created_at=t.toDateString(),e})),e.setState({reviews:a})}))}},{key:"render",value:function(){var e=this,t=this.state.reviews.filter((function(e){return-1===e.points})).length,a=this.state.reviews.filter((function(e){return-1!==e.points})).length,n=this.state.reviews.find((function(t){return t.id===e.state.modal_review_id})),r=this.state.reviews.filter((function(e){return-1===e.points}));"accepted"===this.state.status&&(r=this.state.reviews.filter((function(e){return-1!==e.points})));var l=r.map((function(t,a){return o.a.createElement("div",{className:"review shadow",key:a},o.a.createElement("img",{src:t.proof_pic,onClick:function(){return e.setState({modal_open:!0,modal_review_id:t.id})},alt:""}),o.a.createElement("div",{className:"d-flex user_details justify-content-center"},o.a.createElement("span",null,t.proof_by_name),o.a.createElement("span",null,t.proof_by_email)),o.a.createElement("form",{className:"text-center btns"},"accepted"===e.state.status?o.a.createElement("input",{type:"number",className:"text-center points-normal-".concat(t.id),disabled:!0,value:t.points,placeholder:"points"}):o.a.createElement("input",{type:"number",className:"text-center points-normal-".concat(t.id),placeholder:"points"}),o.a.createElement("button",{onClick:function(a){return e._accept_review(a,t.id,".points-normal-".concat(t.id))},className:"btn m-0 mx-2 btn-success"},"accepted"===e.state.status?o.a.createElement("i",{className:"fa fa-edit"}):o.a.createElement("i",{className:"fa fa-check"}))))}));return o.a.createElement("div",{className:"tasks_list container"},o.a.createElement("div",{className:"d-flex my-4"},o.a.createElement("button",{onClick:function(){return e.props.history.goBack()},className:"btn btn-warning"},"go back"),o.a.createElement("h2",{className:" flex-grow-1 text-center"},this.state.status[0].toUpperCase(),this.state.status.slice(1)," Posts")),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{onClick:function(){return e.setState({status:"pending"})},className:"mx-2 btn btn-primary"},"Pending: ",t),o.a.createElement("button",{onClick:function(){return e.setState({status:"accepted"})},className:"mx-2 btn btn-success"},"Accepted: ",a)),o.a.createElement("div",{className:"reviews"},l),this.state.modal_open?o.a.createElement(R.a,{isOpen:this.state.modal_open,onRequestClose:this._closeModal,shouldCloseOnOverlayClick:!0,contentLabel:"review_modal"},o.a.createElement("div",{className:"review modal_review"},o.a.createElement("div",{className:"d-flex user_details justify-content-center"},o.a.createElement("span",null,n.proof_by_name),o.a.createElement("span",null,n.proof_by_email)),o.a.createElement("form",{className:"text-center btns"},"accepted"===this.state.status?o.a.createElement("input",{type:"number",className:"text-center points-modal-".concat(n.id),disabled:!0,value:n.points,placeholder:"points"}):o.a.createElement("input",{type:"number",className:"text-center points-modal-".concat(n.id),placeholder:"points"}),o.a.createElement("button",{onClick:function(t){return e._accept_review(t,n.id,".points-modal-".concat(n.id))},className:"btn m-0 mx-2 btn-success"},"accepted"===this.state.status?o.a.createElement("i",{className:"fa fa-edit"}):o.a.createElement("i",{className:"fa fa-check"}))),o.a.createElement("img",{src:n.proof_pic,onClick:function(){return e.setState({modal_open:!0,modal_review_id:n.id})},alt:""}))):null)}}]),a}(c.Component),G=Object(m.b)((function(e){return e}))(H),F=a(100),J=a.n(F),V=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={startups:[],loading:!0,activePage:1,totalStartups:1,totalPages:1},e.handlePageChange=function(t){console.log("active page is ".concat(t)),e.setState({loading:!0}),Object(g.b)().get("/iportal/startup/?page=".concat(t)).then((function(a){var n=a.data.results;e.setState({loading:!1,activePage:t,startups:n,totalStartups:a.data.count,totalPages:a.data.total_pages})}))},e._approve=function(t){Object(g.b)().put("/iportal/startup/".concat(t.id,"/"),Object(v.a)(Object(v.a)({},t),{},{idea_approved:!0})).then((function(a){var n=e.state.startups,r=n.findIndex((function(e){return e.id===t.id}));console.log(r),n[r].idea_approved=!0,e.setState(n)}))},e._approve_intern=function(t){Object(g.b)().put("/iportal/startup/".concat(t.id,"/"),Object(v.a)(Object(v.a)({},t),{},{can_hire_interns:!0})).then((function(a){var n=e.state.startups,r=n.findIndex((function(e){return e.id===t.id}));console.log(r),n[r].can_hire_interns=!0,e.setState(n)}))},e._dis_approve=function(t){Object(g.b)().put("/iportal/startup/".concat(t.id,"/"),Object(v.a)(Object(v.a)({},t),{},{idea_approved:!1})).then((function(a){var n=e.state.startups,r=n.findIndex((function(e){return e.id===t.id}));console.log(r),n[r].idea_approved=!1,e.setState(n)}))},e._dis_approve_intern=function(t){Object(g.b)().put("/iportal/startup/".concat(t.id,"/"),Object(v.a)(Object(v.a)({},t),{},{can_hire_interns:!1})).then((function(a){var n=e.state.startups,r=n.findIndex((function(e){return e.id===t.id}));console.log(r),n[r].can_hire_interns=!1,e.setState(n)}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(g.b)().get("/iportal/startup/").then((function(t){var a=t.data.results;console.log(a),e.setState({startups:a,loading:!1,activePage:t.data.current_page,totalStartups:t.data.count})}))}},{key:"render",value:function(){var e=this,t=this.state.startups.map((function(t,a){return o.a.createElement("tr",{key:a},o.a.createElement("td",null,14*(e.state.activePage-1)+a+1),o.a.createElement("td",null,o.a.createElement("div",{class:"card"},o.a.createElement("h5",{class:"card-header font-weight-bold"},t.idea_in_a_nut_shell),o.a.createElement("div",{class:"card-body"},o.a.createElement("div",{className:"mb-2"},o.a.createElement("i",{className:"font-weight-bold"},"Description :")),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.describe_idea}}),o.a.createElement("div",{className:"mb-2"},o.a.createElement("i",{className:"font-weight-bold"},"Beneficiaries :")," ",t.beneficiaries),o.a.createElement("div",null,o.a.createElement(d.b,{target:"_blank",className:"detail_link btn btn-primary",to:"/internship/jobs/".concat(t.id)},"Read More "),t.can_hire_interns?o.a.createElement("button",{onClick:function(){return e._dis_approve_intern(t)},className:"btn float-right font-weight-bold btn-danger"},"Disapprove Work Profiles"):o.a.createElement("button",{onClick:function(){return e._approve_intern(t)},className:"btn float-right font-weight-bold btn-success"},"Approve Work Profiles"),t.idea_approved?o.a.createElement("button",{onClick:function(){return e._dis_approve(t)},className:"btn float-right font-weight-bold btn-danger"},"Disapprove  Idea"):o.a.createElement("button",{onClick:function(){return e._approve(t)},className:"btn float-right font-weight-bold btn-success"},"Approve Idea"))))))}));return o.a.createElement("div",{className:"users_list container"},o.a.createElement("div",{className:"d-flex my-4"},o.a.createElement("h2",{className:" flex-grow-1 text-center"},"Idea List")),o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("strong",null,"#")),o.a.createElement("th",{className:"text-center"},o.a.createElement("strong",null,"Ideas")))),o.a.createElement("tbody",null,t)),this.state.loading?o.a.createElement("h3",{className:"text-center mt-3"},"...loading"):null,o.a.createElement("div",{className:"d-flex justify-content-center my-5"},o.a.createElement(J.a,{activePage:this.state.activePage,itemsCountPerPage:14,totalItemsCount:this.state.totalStartups,pageRangeDisplayed:10,itemClass:"page-item",linkClass:"page-link",onChange:this.handlePageChange})))}}]),a}(c.Component),X=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).base_route="/caportal/admin/",e}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(L,null),o.a.createElement(i.d,null,o.a.createElement(i.b,{path:this.base_route+"review_taskwise/:task_id/",component:G}),o.a.createElement(i.b,{path:this.base_route+"tasks/:task_id",component:P}),o.a.createElement(i.b,{path:this.base_route+"create_task/",component:B}),o.a.createElement(i.b,{path:this.base_route+"tasks/",component:D}),o.a.createElement(i.b,{path:this.base_route+"users/:user_id",component:S}),o.a.createElement(i.b,{path:this.base_route+"create_user/",component:A}),o.a.createElement(i.b,{path:this.base_route+"users/",component:M}),o.a.createElement(i.b,{path:this.base_route+"startups/",component:V}),o.a.createElement(i.b,{path:this.base_route+"leaderboard/",component:j}),o.a.createElement(i.b,{path:this.base_route+"",component:k})))}}]),a}(c.Component),q=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.auth;if(console.log("gaurd comp"),e.loggedin)if("GST"===e.user_type)alert("You are not CA or admin yet!"),this.props.history.push("/caportal_info");else if("CAB"===e.user_type){if(this.props.location.pathname.indexOf("/ca/")>0)return;this.props.history.push("/caportal/ca")}else{if(this.props.location.pathname.indexOf("/admin/")>0)return;this.props.history.push("/caportal/admin")}else alert("Please login to continue"),this.props.history.push("/caportal_info")}},{key:"render",value:function(){return o.a.createElement("div",{className:"caportal-wrapper"},o.a.createElement(i.d,null,o.a.createElement(i.b,{path:"/caportal/ca",component:C}),o.a.createElement(i.b,{path:"/caportal/admin",component:X})))}}]),a}(c.Component);t.default=Object(m.b)((function(e){return e}),u)(q)}}]);
//# sourceMappingURL=22.dc818e30.chunk.js.map