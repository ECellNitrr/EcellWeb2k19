(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{323:function(e,t,a){},324:function(e,t,a){e.exports=a.p+"static/media/logo.e4e170ee.png"},50:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(74),r=a.n(n),l=a(35),s="http://localhost:8000";s="",t.b=function(){var e=void 0,t=l.store.getState().auth;return t&&(e=t.loggedin?t.token:void 0),r.a.create({baseURL:s,headers:{Authorization:e,Access:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnQiOiJhbmRyb2lkIiwib3JnYW5pemF0aW9uIjoiRUNlbGwifQ.H2aaDJuOxK44D2kwRCWwv9s5rzJGCNYKT3thtQqN-hQ"}})}},56:function(e,t,a){"use strict";a.d(t,"f",function(){return l}),a.d(t,"a",function(){return s}),a.d(t,"c",function(){return c}),a.d(t,"d",function(){return i}),a.d(t,"e",function(){return o}),a.d(t,"b",function(){return m});var n,r=a(26),l=(n={GST:"Guest",VLT:"Voluteer",EXE:"Executive",MNG:"Manager",HCO:"Head Co-ordinator",OCO:"Overall Co-ordinator",CAB:"Campus Ambassador"},Object(r.a)(n,"CAB","Campus Ambassador"),Object(r.a)(n,"DRT","Director"),Object(r.a)(n,"CDC","CDC Admin"),n),s={PND:"pending",RJD:"rejected",HRD:"hired",URV:"under review"},c=function(e){try{return e=(e=new Date(e)).toISOString(),"".concat(e.slice(8,10),"-").concat(e.slice(5,7),"-").concat(e.slice(0,4))}catch(t){return"invalid-format"}},i=["Accountancy","Banking","Finance","Business","Consulting","Management","Charity","Design","Engineering","Agriculture","Healthcare","Hospitality","IT","Law","Security","Leisure","Sport","Tourism","Marketing","Advertising","PR","Media","Construction","Public Services","Administration","Retail","Sales","Science","Social Care","Teacher Training","Education","Transport","Logistics","Others"],o=["Select","Student","Faculty"],m=[{course:"B Tech",display_name:"Bachelor of Technology",branch:[{name:"Biomed",display_name:"Bio Medical Engineering",semester:["2","4","6","8"]},{name:"Biotech",display_name:"Bio Technology Engineering",semester:["2","4","6","8"]},{name:"Chemical",display_name:"Chemical Engineering",semester:["2","4","6","8"]},{name:"Civil",display_name:"Civil Engineering",semester:["2","4","6","8"]},{name:"CSE",display_name:"Computer Science Engineering",semester:["2","4","6","8"]},{name:"ELEX",display_name:"Electronics and communication Engineering",semester:["2","4","6","8"]},{name:"Electrical",display_name:"Electrical Engineering",semester:["2","4","6","8"]},{name:"IT",display_name:"Information Technology",semester:["2","4","6","8"]},{name:"Mech",display_name:"Mechanical Engineering",semester:["2","4","6","8"]},{name:"Meta",display_name:"Metallurgical and Materials Engineering",semester:["2","4","6","8"]},{name:"Mining",display_name:"Mining Engineering",semester:["2","4","6","8"]},{name:"Others",display_name:"",semester:["2","4","6","8"]}]},{course:"M Tech",display_name:"Master of Technology",branch:[{name:"Biomed",display_name:"Bio Medical Engineering",semester:["2","4"]},{name:"Biotech",display_name:"Bio Technology Engineering",semester:["2","4"]},{name:"Chemical",display_name:"Chemical Engineering",semester:["2","4"]},{name:"Civil",display_name:"Civil Engineering",semester:["2","4"]},{name:"CSE",display_name:"Computer Science Engineering",semester:["2","4"]},{name:"ELEX",display_name:"Electronics and communication Engineering",semester:["2","4"]},{name:"Electrical",display_name:"Electrical Engineering",semester:["2","4"]},{name:"IT",display_name:"Information Technology",semester:["2","4"]},{name:"Mech",display_name:"Mechanical Engineering",semester:["2","4"]},{name:"Meta",display_name:"Metallurgical and Materials Engineering",semester:["2","4","6","8"]},{name:"Mining",display_name:"Mining Engineering",semester:["2","4","6","8"]},{name:"Others",display_name:"",semester:["2","4","6","8"]}]},{course:"MBA",display_name:"Master of Business Administration",branch:[{name:"Finance",display_name:"Finance",semester:["2","4"]},{name:"Marketing",display_name:"Marketing",semester:["2","4"]},{name:"HRM",display_name:"Human Recourse Management",semester:["2","4"]},{name:"IB",display_name:"International Business",semester:["2","4"]},{name:"OM",display_name:"Operation Management",semester:["2","4"]},{name:"SCM",display_name:"Supply Chain Management",semester:["2","4"]},{name:"RM",display_name:"Rural Management",semester:["2","4"]},{name:"ABM",display_name:"Agri Business Management",semester:["2","4"]},{name:"HCM",display_name:"Health Care Management",semester:["2","4"]},{name:"Others",display_name:"Others",semester:["2","4"]}]},{course:"B Arch",display_name:"Bachelor of Science",branch:[{name:"LA",display_name:"Landscape Architecture",semester:["2","4","6","8","10"]},{name:"AC",display_name:"Architectural Conservation",semester:["2","4","6","8","10"]},{name:"HA",display_name:"Housing Architecture",semester:["2","4","6","8","10"]},{name:"UP",display_name:"Urban Planning",semester:["2","4","6","8","10"]},{name:"RP",display_name:"Regional Planning",semester:["2","4","6","8","10"]}]},{course:"B Sc",display_name:"Bachelor of Architecture",branch:[{name:"HM",display_name:"Hotel Management",semester:["2","4","6"]},{name:"AS",display_name:"Aernautical Science",semester:["2","4","6"]},{name:"Medical",display_name:"Medical Science",semester:["2","4","6"]},{name:"Biology",display_name:"Biologcal Science",semester:["2","4","6"]},{name:"AVE",display_name:"Animation and Visual Effects",semester:["2","4","6"]},{name:"Chemistry",display_name:"Applied Chemistry",semester:["2","4","6"]},{name:"Maths",display_name:"Applied Mathemartics",semester:["2","4","6"]},{name:"Physics",display_name:"Applied Physics",semester:["2","4","6"]}]}]},561:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a(12),l=a(14),s=a(13),c=a(15),i=a(0),o=a.n(i),m=a(9),u=a(25),d=a(61),p=(a(323),a(24)),f=a(6),h=a(56),E=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).base_route="/caportal/ca/",a._logout=function(e){console.log(a.props.auth),a.props.updateUser({loggedin:!1}),a.props.history.push("/")},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"navbar"},o.a.createElement("div",{className:"container d-flex"},o.a.createElement("div",{className:"d-flex flex-grow-1"},o.a.createElement(p.c,{activeClassName:"active_navlink",exact:!0,className:"navlink",to:this.base_route+""},"Dashboard"),o.a.createElement(p.c,{activeClassName:"active_navlink",exact:!0,className:"navlink",to:this.base_route+"tasks/"},"New Posts"),o.a.createElement(p.c,{activeClassName:"active_navlink",exact:!0,className:"navlink",to:this.base_route+"submited_tasks/"},"Submited Posts"),o.a.createElement(p.c,{activeClassName:"active_navlink",exact:!0,className:"navlink",to:this.base_route+"leaderboard/"},"Leaderboard")),o.a.createElement("div",{className:"username"},this.props.auth.first_name.toUpperCase()," ",this.props.auth.last_name.toUpperCase()),o.a.createElement("div",{className:"username"},h.f[this.props.auth.user_type]),o.a.createElement("div",null,o.a.createElement("button",{onClick:this._logout,className:"navlink logout_btn"},"logout"))))}}]),t}(i.Component),b=Object(f.d)(Object(u.b)(function(e){return e},d),m.g)(E),v=a(27),g=a(91),_=a(50),y=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).task_id=Number(a.props.match.params.task_id),a.review_id=Number(a.props.match.params.review_id),a.review=a.props.location.pathname.indexOf("submited_tasks")>0,a.state={error:{},task:{},selected_imgs:[],uploaded_imgs:[]},a._upload_img=function(e,t){e.preventDefault();var n=a.state.selected_imgs.find(function(e){return e.src===t}),r=new FormData,l=new XMLHttpRequest;r.append("proof_by",a.props.auth.id),r.append("proof_pic",n.file),r.append("task",a.task_id);var s=a.state.selected_imgs,c=s.findIndex(function(e){return e.src==t});s[c].progress=0,a.setState({selected_imgs:s}),l.addEventListener("load",function(e){console.log(e),a.setState({selected_imgs:a.state.selected_imgs.filter(function(e){return e.src!==t}),uploaded_imgs:[].concat(Object(g.a)(a.state.uploaded_imgs),[JSON.parse(e.target.response)])})}),l.upload.addEventListener("progress",function(e){var n=Math.round(e.loaded/e.total*100);console.log({progress:n});var r=a.state.selected_imgs,l=r.findIndex(function(e){return e.src==t});r[l].progress=n,a.setState({selected_imgs:r})}),l.open("post",_.a+"/portal/reviews/"),l.setRequestHeader("Authorization",a.props.auth.token),l.send(r)},a._select_img=function(e){e.preventDefault();var t=document.createElement("input");t.type="file",t.multiple=!0,t.accept="image/x-png,image/gif,image/jpeg",t.click(),t.addEventListener("change",function(e){var t=e.target.files;Array.from(t).forEach(function(e){var t=new FileReader;t.addEventListener("load",function(n){a.setState({selected_imgs:[].concat(Object(g.a)(a.state.selected_imgs),[{src:t.result,file:e}])})}),t.readAsDataURL(e)})})},a._remove_img=function(e,t){e.preventDefault(),a.setState({selected_imgs:a.state.selected_imgs.filter(function(e){return e.src!==t})})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(_.b)().get("/portal/tasks/".concat(this.task_id,"/")).then(function(t){console.log(t.data);var a=t.data,n=new Date(a.created_at);a.created_at=n.toDateString();var r=a.uploaded_imgs.map(function(e){return e.proof_pic=_.a+e.proof_pic,e});e.setState({task:Object(v.a)({},a,{uploaded_imgs:void 0}),uploaded_imgs:r})})}},{key:"render",value:function(){var e=this,t=this.state.error,a=Object.keys(t).map(function(e){return o.a.createElement("div",{className:"text-danger text-center",key:e},e,": ",t[e].join(""))}),n=this.state.task;this.review&&(n=n.task_obj);var r=this.state.selected_imgs.map(function(t,a){return o.a.createElement("div",{className:"upload_img",key:a},o.a.createElement("div",null,o.a.createElement("img",{src:t.src,alt:"selected img shadow"}),o.a.createElement("div",{className:"d-flex justify-content-center"},t.progress>0?o.a.createElement(i.Fragment,null,o.a.createElement("div",{className:"progress flex-grow-1"},o.a.createElement("div",{className:"progress-bar progress-bar-striped",role:"progressbar",style:{width:"".concat(t.progress,"%")}})),o.a.createElement("div",{className:"text-center font-weight-bold"},t.progress,"%")):o.a.createElement(i.Fragment,null,o.a.createElement("button",{onClick:function(a){return e._upload_img(a,t.src)},className:"btn btn-success mt-0"},o.a.createElement("i",{className:"fa fa-upload"})," Upload"),o.a.createElement("button",{onClick:function(a){return e._remove_img(a,t.src)},className:"btn btn-danger mt-0"},o.a.createElement("i",{className:"fa fa-times"})," Remove")))))}),l=this.state.uploaded_imgs.map(function(e,t){return o.a.createElement("div",{className:"upload_img",key:t},o.a.createElement("div",null,o.a.createElement("img",{src:e.proof_pic,alt:"selected img shadow"})),o.a.createElement("div",{className:"points"},"Points: ",e.points>-1?e.points:"review pending"))});return r=o.a.createElement("div",{className:"d-flex flex-wrap justify-content-center"},r),o.a.createElement("div",{className:"user_detail container"},o.a.createElement("div",{className:"d-flex my-5 justify-content-between"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.props.history.goBack()}},"go back"),o.a.createElement("h2",null,this.review?"Submitted for review":"Submit for review"),o.a.createElement("div",null)),o.a.createElement("div",{className:"task"},o.a.createElement("div",null,o.a.createElement("span",{className:"font-weight-bold mr-3"},"Post title:"),o.a.createElement("span",null,n.name)),o.a.createElement("div",null,o.a.createElement("span",{className:"font-weight-bold mr-3"},"Description:"),o.a.createElement("span",null,n.description?n.description:"none")),o.a.createElement("div",null,o.a.createElement("span",{className:"font-weight-bold mr-3"},"Platform:"),o.a.createElement("span",null,n.platform)),o.a.createElement("div",null,o.a.createElement("span",{className:"font-weight-bold mr-3"},"URL:"),o.a.createElement("span",null,n.url?n.url:"none")),o.a.createElement("div",null,o.a.createElement("span",{className:"font-weight-bold mr-3"},"Create on:"),o.a.createElement("span",null,n.created_at))),o.a.createElement("form",{className:""},a,this.state.error?a:null,o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{onClick:this._select_img,className:"btn btn-primary"},o.a.createElement("i",{className:"fa fa-image"})," Select screenshots")),o.a.createElement("div",{className:"my-3 text-center"},o.a.createElement("h3",null,"Selected imgs:"),this.state.selected_imgs.length>0?r:"none"),this.state.uploaded_imgs.length>0?o.a.createElement("div",{className:"my-3 text-center"},o.a.createElement("h3",null,"Uploaded imgs:"),o.a.createElement("div",{className:"d-flex flex-wrap justify-content-center"},l)):null))}}]),t}(i.Component),N=Object(u.b)(function(e){return e})(y),k=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"dashbord container"},o.a.createElement("div",{className:"d-flex flex-wrap mt-5"},o.a.createElement("div",{className:""},o.a.createElement("img",{className:"ecell-logo",src:a(324),alt:"ecell logo"})),o.a.createElement("div",{className:"text-center flex-grow-1"},o.a.createElement("h1",{className:"text-center mt-5"},"Campus Ambassador Portal"),o.a.createElement("h3",{className:"text-center mt-3"},"Entrepreneurship Cell, NIT Raipur"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 font-weight-bold text-center text-md-right"},"First name:"),o.a.createElement("div",{className:"col-md-6 text-center text-md-left"},this.props.auth.first_name)),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 font-weight-bold text-center text-md-right"},"Last name:"),o.a.createElement("div",{className:"col-md-6 text-center text-md-left"},this.props.auth.last_name)),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 font-weight-bold text-center text-md-right"},"Email:"),o.a.createElement("div",{className:"col-md-6 text-center text-md-left"},this.props.auth.email)),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 font-weight-bold text-center text-md-right"},"User Type:"),o.a.createElement("div",{className:"col-md-6 text-center text-md-left"},h.f[this.props.auth.user_type])),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 font-weight-bold text-center text-md-right"},"Contact:"),o.a.createElement("div",{className:"col-md-6 text-center text-md-left"},this.props.auth.contact)),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 font-weight-bold text-center text-md-right"},"OTP Verified:"),o.a.createElement("div",{className:"col-md-6 text-center text-md-left"},this.props.auth.verified?o.a.createElement("i",{className:"fa fa-check text-success"}):o.a.createElement("i",{className:"fa fa-times text-danger"}))))}}]),t}(i.Component),O=Object(u.b)(function(e){return e})(k),j=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={tasks:[],loading:!0},a._createTask=function(){a.props.history.push("/caportal/admin/create_task/")},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(_.b)().get("/portal/non_submited_tasks/").then(function(t){console.log(t.data);var a=t.data.sort(function(e,t){return t.id-e.id});a=a.map(function(e){var t=new Date(e.created_at);return e.created_at=t.toDateString(),e}),e.setState({tasks:a,loading:!1})})}},{key:"render",value:function(){var e=this.state.tasks.map(function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,t+1),o.a.createElement("td",null,o.a.createElement(p.b,{className:"detail_link",to:"/caportal/ca/tasks/".concat(e.id,"/")},e.name)),o.a.createElement("td",null,e.platform),o.a.createElement("td",null,e.created_at))});return o.a.createElement("div",{className:"tasks_list container"},o.a.createElement("div",{className:"d-flex my-4"},o.a.createElement("h2",{className:" flex-grow-1 text-center"},"Posts List")),o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"#"),o.a.createElement("th",null,"Task name"),o.a.createElement("th",null,"Platform"),o.a.createElement("th",null,"Created on"))),o.a.createElement("tbody",null,e)),this.state.loading?o.a.createElement("h3",{className:"text-center"},"...loading"):null,this.state.loading||0!==this.state.tasks.length?null:o.a.createElement("h3",{className:"text-center"},"no more new posts :)"))}}]),t}(i.Component),x=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={tasks:[],loading:!0},a._fetch=function(){Object(_.b)().get("/portal/submited_tasks/").then(function(e){console.log(e.data);var t=e.data.sort(function(e,t){return t.id-e.id});t=t.map(function(e){var t=new Date(e.created_at);return e.created_at=t.toDateString(),e}),a.setState({tasks:t,loading:!1})})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this._fetch()}},{key:"render",value:function(){var e=this.state.tasks.map(function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,t+1),o.a.createElement("td",null,o.a.createElement(p.b,{className:"detail_link",to:"/caportal/ca/tasks/".concat(e.id,"/")},e.name)),o.a.createElement("td",null,e.platform),o.a.createElement("td",null,e.uploaded_imgs.reviewed,"/",e.uploaded_imgs.total),o.a.createElement("td",null,e.uploaded_imgs.points))});return o.a.createElement("div",{className:"tasks_list container"},o.a.createElement("div",{className:"d-flex my-4"},o.a.createElement("h2",{className:" flex-grow-1 text-center"},"Submitted Posts")),o.a.createElement("table",{className:"table table-striped mt-3"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"#"),o.a.createElement("th",null,"Task name"),o.a.createElement("th",null,"Platform"),o.a.createElement("th",null,"Reviewed"),o.a.createElement("th",null,"Points"))),o.a.createElement("tbody",null,e)),this.state.loading?o.a.createElement("h3",{className:"text-center"},"...loading"):null,this.state.loading||0!==this.state.tasks.length?null:o.a.createElement("h3",{className:"text-center"},"no submitted post available"))}}]),t}(i.Component),w=Object(u.b)(function(e){return e})(x),C=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={users:[],loading:!0},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(_.b)().get("/portal/ranklist/").then(function(t){var a=t.data.sort(function(e,t){return t.total_points-e.total_points});a.map(function(e){var t=new Date(e.created_at);return e.created_at=t.toDateString(),e}),console.log(a),e.setState({users:a,loading:!1})}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){var e=this.state.users.map(function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,t+1),o.a.createElement("td",null,e.first_name.toUpperCase()," ",e.last_name.toUpperCase()),o.a.createElement("td",null,e.total_points))});return o.a.createElement("div",{className:"ranklist_list container"},o.a.createElement("div",{className:"d-flex my-4"},o.a.createElement("h2",{className:" flex-grow-1 text-center"},"Leaderboard")),o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Rank"),o.a.createElement("th",null,"Campus Ambassador"),o.a.createElement("th",null,"Points"))),o.a.createElement("tbody",null,e)),this.state.loading?o.a.createElement("h3",{className:"text-center mt-3"},"...loading"):null)}}]),t}(i.Component),S=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).base_route="/caportal/ca/",a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(b,null),o.a.createElement(m.d,null,o.a.createElement(m.b,{path:this.base_route+"submited_tasks/",component:w}),o.a.createElement(m.b,{path:this.base_route+"tasks/:task_id/",component:N}),o.a.createElement(m.b,{path:this.base_route+"tasks/",component:j}),o.a.createElement(m.b,{path:this.base_route+"leaderboard/",component:C}),o.a.createElement(m.b,{path:this.base_route+"",component:O})))}}]),t}(i.Component),A=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).user_id=a.props.match.params.user_id,a.state={},a._updateUser=function(e){e.preventDefault(),Object(_.b)().put("/portal/users/".concat(a.user_id,"/"),Object(v.a)({},a.state,{username:a.username.value,first_name:a.first_name.value,last_name:a.last_name.value,user_type:a.user_type.value,applied:a.applied.checked,verified:a.verified.checked})).then(function(e){console.log(e.data),a.props.history.goBack()})},a._deleteUser=function(e){e.preventDefault(),Object(_.b)().delete("/portal/users/".concat(a.user_id,"/")).then(function(e){console.log(e.data),a.props.history.goBack()})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),Object(_.b)().get("/portal/users/".concat(this.user_id,"/")).then(function(t){var a=t.data;e.username.value=a.username,e.first_name.value=a.first_name,e.last_name.value=a.last_name,e.contact.value=a.contact,e.user_type.value=a.user_type,e.applied.checked=a.applied,e.verified.checked=a.verified,e.setState(t.data)})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"user_detail container"},o.a.createElement("div",{className:"d-flex my-5 justify-content-between"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.props.history.goBack()}},"go back"),o.a.createElement("h2",null,"User details"),o.a.createElement("div",null)),o.a.createElement("form",{className:""},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Email:"),o.a.createElement("input",{className:"form-control",placeholder:"Username",ref:function(t){return e.username=t},disabled:!0,type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"First Name:"),o.a.createElement("input",{className:"form-control",placeholder:"First Name",ref:function(t){return e.first_name=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Last Name:"),o.a.createElement("input",{className:"form-control",placeholder:"Last Name",ref:function(t){return e.last_name=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Contact:"),o.a.createElement("input",{className:"form-control",placeholder:"contact",ref:function(t){return e.contact=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"User type:"),o.a.createElement("select",{className:"form-control",ref:function(t){return e.user_type=t}},o.a.createElement("option",{value:"GST"},"GST"),o.a.createElement("option",{value:"VLT"},"VLT"),o.a.createElement("option",{value:"EXE"},"EXE"),o.a.createElement("option",{value:"MNG"},"MNG"),o.a.createElement("option",{value:"HCO"},"HCO"),o.a.createElement("option",{value:"OCO"},"OCO"),o.a.createElement("option",{value:"CAB"},"CAB"))),o.a.createElement("div",{className:"form-check"},o.a.createElement("input",{className:"form-check-input",placeholder:"contact",ref:function(t){return e.applied=t},type:"checkbox"}),o.a.createElement("label",{className:"form-check-label"},"Applied:")),o.a.createElement("div",{className:"form-check"},o.a.createElement("input",{className:"form-check-input",placeholder:"contact",ref:function(t){return e.verified=t},type:"checkbox"}),o.a.createElement("label",{className:"form-check-label"},"Verified:")),o.a.createElement("div",{className:"text-center mt-3"},o.a.createElement("button",{onClick:this._deleteUser,className:"btn btn-danger"},"Delete"),o.a.createElement("button",{onClick:this._updateUser,className:"btn btn-success"},"Update"))))}}]),t}(i.Component),M=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).user_id=a.props.match.params.user_id,a.state={error:null},a._createUser=function(e){e.preventDefault(),a.setState({error:null}),Object(_.b)().post("/portal/create_user/",{email:a.email.value,first_name:a.first_name.value,last_name:a.last_name.value,user_type:a.user_type.value,contact:a.contact.value,applied:!0,verified:!0,password:a.password.value}).then(function(e){console.log(e.data),a.props.history.goBack()}).catch(function(e){console.log(e.response.data),a.setState({error:e.response.data.detail})})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=o.a.createElement("div",{className:"text-danger text-center"},this.state.error);return o.a.createElement("div",{className:"user_detail container"},o.a.createElement("div",{className:"d-flex my-5 justify-content-between"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.props.history.goBack()}},"go back"),o.a.createElement("h2",null,"Create user"),o.a.createElement("div",null)),o.a.createElement("form",{className:""},this.state.error?t:null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"First Name:"),o.a.createElement("input",{className:"form-control",placeholder:"First Name",ref:function(t){return e.first_name=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Last Name:"),o.a.createElement("input",{className:"form-control",placeholder:"Last Name",ref:function(t){return e.last_name=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Contact:"),o.a.createElement("input",{className:"form-control",placeholder:"Contact",ref:function(t){return e.contact=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Email:"),o.a.createElement("input",{className:"form-control",placeholder:"email",ref:function(t){return e.email=t},type:"email"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Password:"),o.a.createElement("input",{className:"form-control",placeholder:"Password",ref:function(t){return e.password=t},type:"password"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"User type:"),o.a.createElement("select",{className:"form-control",ref:function(t){return e.user_type=t}},o.a.createElement("option",{value:"GST"},"GST"),o.a.createElement("option",{value:"VLT"},"VLT"),o.a.createElement("option",{value:"EXE"},"EXE"),o.a.createElement("option",{value:"MNG"},"MNG"),o.a.createElement("option",{value:"HCO"},"HCO"),o.a.createElement("option",{value:"OCO"},"OCO"),o.a.createElement("option",{value:"CAB"},"CAB"))),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{onClick:this._createUser,className:"btn btn-success"},"Submit"))))}}]),t}(i.Component),D=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={ecell_users:[],loading:!0},a._to_cab=function(e){Object(_.b)().put("/portal/users/".concat(e.id,"/"),Object(v.a)({},e,{user_type:"CAB"})).then(function(t){var n=a.state.ecell_users,r=n.findIndex(function(t){return t.id===e.id});console.log(r),n[r].user_type="CAB",a.setState({ecell_users:n})})},a._createUser=function(){a.props.history.push("/caportal/admin/create_user/")},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(_.b)().get("/portal/users/").then(function(t){e.setState({ecell_users:t.data.sort(function(e,t){return t.id-e.id}),loading:!1})})}},{key:"render",value:function(){var e=this,t=o.a.createElement("div",{className:"text-success"},o.a.createElement("i",{className:"fa fa-check"})),a=o.a.createElement("div",{className:"text-danger"},o.a.createElement("i",{className:"fa fa-times"})),n=this.state.ecell_users.map(function(n,r){return o.a.createElement("tr",{key:r},o.a.createElement("td",null,r+1),o.a.createElement("td",null,o.a.createElement(p.b,{className:"detail_link",to:"/caportal/admin/users/".concat(n.id,"/")},n.username)),o.a.createElement("td",null,n.verified?t:a),o.a.createElement("td",null,n.applied?t:a),o.a.createElement("td",null,n.otp),o.a.createElement("td",null,n.user_type," ","GST"===n.user_type?o.a.createElement("button",{onClick:function(){return e._to_cab(n)},className:"badge badge-dark"},"to CAB"):null," "))});return o.a.createElement("div",{className:"users_list container"},o.a.createElement("div",{className:"d-flex my-4"},o.a.createElement("h2",{className:" flex-grow-1 text-center"},"Users List"),o.a.createElement("div",{className:"text-right"},o.a.createElement("button",{onClick:this._createUser,className:"btn btn-primary"},"create user ",o.a.createElement("i",{className:"fa fa-plus ml-2"})," "))),o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"#"),o.a.createElement("th",null,"Email"),o.a.createElement("th",null,"verified"),o.a.createElement("th",null,"Applied"),o.a.createElement("th",null,"otp"),o.a.createElement("th",null,"User Type"))),o.a.createElement("tbody",null,n)),this.state.loading?o.a.createElement("h3",{className:"text-center mt-3"},"...loading"):null)}}]),t}(i.Component),T=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={tasks:[]},a._createTask=function(){a.props.history.push("/caportal/admin/create_task/")},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(_.b)().get("/portal/task_list_admin/").then(function(t){var a=t.data.sort(function(e,t){return t.id-e.id});a.map(function(e){var t=new Date(e.created_at);return e.created_at=t.toDateString(),e}),console.log(a),e.setState({tasks:a})}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){var e=this.state.tasks.map(function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,t+1),o.a.createElement("td",null,o.a.createElement(p.b,{className:"detail_link",to:"/caportal/admin/tasks/".concat(e.id,"/")},e.name)),o.a.createElement("td",null,e.platform),o.a.createElement("td",null,e.pending),o.a.createElement("td",null,e.accepted),o.a.createElement("td",null,e.created_at),o.a.createElement("td",null,o.a.createElement(p.b,{className:"p-1 badge badge-primary",to:"/caportal/admin/review_taskwise/".concat(e.id,"/")},"Review")," "))});return o.a.createElement("div",{className:"tasks_list container"},o.a.createElement("div",{className:"d-flex my-4"},o.a.createElement("h2",{className:" flex-grow-1 text-center"},"Tasks List"),o.a.createElement("div",{className:"text-right"},o.a.createElement("button",{onClick:this._createTask,className:"btn btn-primary"},"create task ",o.a.createElement("i",{className:"fa fa-plus ml-2"})," "))),o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"#"),o.a.createElement("th",null,"Task name"),o.a.createElement("th",null,"Platform"),o.a.createElement("th",null,"Pending"),o.a.createElement("th",null,"Accepted"),o.a.createElement("th",null,"Created on"),o.a.createElement("th",null,"Submissions"))),o.a.createElement("tbody",null,e)))}}]),t}(i.Component),B=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).user_id=a.props.match.params.user_id,a.state={error:{}},a._createTask=function(e){e.preventDefault(),a.setState({error:{}}),Object(_.b)().post("/portal/tasks/",{madeby:a.author.value,name:a.name.value,description:a.description.value,url:a.url.value,platform:a.platform.value}).then(function(e){console.log(e.data),a.props.history.goBack()}).catch(function(e){console.log(e.response.data),a.setState({error:e.response.data})})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.author.value="".concat(this.props.auth.first_name.toUpperCase()," ").concat(this.props.auth.last_name.toUpperCase())}},{key:"render",value:function(){var e=this,t=this.state.error;console.log({errors:t});var a=Object.keys(t).map(function(e){return o.a.createElement("div",{className:"text-danger text-center",key:e},e,": ",t[e].join(""))});return o.a.createElement("div",{className:"user_detail container"},o.a.createElement("div",{className:"d-flex my-5 justify-content-between"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.props.history.goBack()}},"go back"),o.a.createElement("h2",null,"Create Task"),o.a.createElement("div",null)),o.a.createElement("form",{className:""},a,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Author:"),o.a.createElement("input",{disabled:!0,className:"form-control",placeholder:"First Name",ref:function(t){return e.author=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Task Name:"),o.a.createElement("input",{className:"form-control",placeholder:"Task name",ref:function(t){return e.name=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Description:"),o.a.createElement("textarea",{className:"form-control",placeholder:"description",ref:function(t){return e.description=t},rows:"5"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"URL:"),o.a.createElement("input",{className:"form-control",placeholder:"url",ref:function(t){return e.url=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Platform:"),o.a.createElement("select",{className:"form-control",ref:function(t){return e.platform=t}},o.a.createElement("option",{value:"facebook"},"facebook"),o.a.createElement("option",{value:"whatsapp"},"whatsapp"),o.a.createElement("option",{value:"youtube"},"youtube"),o.a.createElement("option",{value:"instagram"},"instagram"),o.a.createElement("option",{value:"twitter"},"twitter"),o.a.createElement("option",{value:"linkedin"},"linkedin"))),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{onClick:this._createTask,className:"btn btn-success"},"Submit"))))}}]),t}(i.Component),P=Object(u.b)(function(e){return e})(B),U=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).task_id=a.props.match.params.task_id,a.state={error:{}},a._updateTask=function(e){e.preventDefault(),Object(_.b)().put("/portal/tasks/".concat(a.task_id,"/"),{madeby:a.author.value,name:a.name.value,description:a.description.value,url:a.url.value,platform:a.platform.value}).then(function(e){console.log(e.data),a.props.history.goBack()})},a._deleteTask=function(e){e.preventDefault(),Object(_.b)().delete("/portal/tasks/".concat(a.task_id,"/")).then(function(e){console.log(e.data),a.props.history.goBack()})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),Object(_.b)().get("/portal/tasks/".concat(this.task_id,"/")).then(function(t){var a=t.data;e.author.value=a.madeby,e.platform.value=a.platform,e.description.value=a.description,e.url.value=a.url,e.name.value=a.name,e.setState(t.data)})}},{key:"render",value:function(){var e=this,t=this.state.error;console.log({errors:t});var a=Object.keys(t).map(function(e){return o.a.createElement("div",{className:"text-danger text-center",key:e},e,": ",t[e].join(""))});return o.a.createElement("div",{className:"user_detail container"},o.a.createElement("div",{className:"d-flex my-5 justify-content-between"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.props.history.goBack()}},"go back"),o.a.createElement("h2",null,"Task detail"),o.a.createElement("div",null)),o.a.createElement("form",{className:""},a,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Author:"),o.a.createElement("input",{disabled:!0,className:"form-control",placeholder:"First Name",ref:function(t){return e.author=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Task Name:"),o.a.createElement("input",{className:"form-control",placeholder:"Task name",ref:function(t){return e.name=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Description:"),o.a.createElement("textarea",{className:"form-control",placeholder:"description",ref:function(t){return e.description=t},rows:"5"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"URL:"),o.a.createElement("input",{className:"form-control",placeholder:"url",ref:function(t){return e.url=t},type:"text"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Platform:"),o.a.createElement("select",{className:"form-control",ref:function(t){return e.platform=t}},o.a.createElement("option",{value:"facebook"},"facebook"),o.a.createElement("option",{value:"whatsapp"},"whatsapp"),o.a.createElement("option",{value:"youtube"},"youtube"),o.a.createElement("option",{value:"instagram"},"instagram"),o.a.createElement("option",{value:"twitter"},"twitter"),o.a.createElement("option",{value:"linkedin"},"linkedin"))),o.a.createElement("div",{className:"text-center mt-3"},o.a.createElement("button",{onClick:this._deleteTask,className:"btn btn-danger"},"Delete"),o.a.createElement("button",{onClick:this._updateTask,className:"btn btn-success"},"Update"))))}}]),t}(i.Component),L=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).base_route="/caportal/admin/",a._logout=function(e){console.log(a.props.auth),a.props.updateUser({loggedin:!1}),a.props.history.push("/")},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"navbar"},o.a.createElement("div",{className:"container d-flex"},o.a.createElement("div",{className:"d-flex flex-grow-1"},o.a.createElement(p.c,{activeClassName:"active_navlink",exact:!0,className:"navlink",to:this.base_route+""},"Dashboard"),o.a.createElement(p.c,{activeClassName:"active_navlink",exact:!0,className:"navlink",to:this.base_route+"startups/"},"Ideas"),o.a.createElement(p.c,{activeClassName:"active_navlink",exact:!0,className:"navlink",to:this.base_route+"users/"},"EcellUsers")),o.a.createElement("div",{className:"username"},this.props.auth.first_name.toUpperCase()," ",this.props.auth.last_name.toUpperCase()),o.a.createElement("div",{className:"username"},h.f[this.props.auth.user_type]),o.a.createElement("div",null,o.a.createElement("button",{onClick:this._logout,className:"navlink logout_btn"},"logout"))))}}]),t}(i.Component),I=Object(f.d)(Object(u.b)(function(e){return e},d),m.g)(L),R=a(325),H=a.n(R),G=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).task_id=a.props.match.params.task_id,a.state={reviews:[],status:"pending",modal_open:!1,modal_review_id:0},a._accept_review=function(e,t,n){e.preventDefault(),a.setState({modal_open:!1});var r=document.querySelector(n).value;"accepted"===a.state.status&&(r=prompt("plz enter new points for the post:"),console.log(r)),r>10||r<0||""===r||null===r?alert("points can be only within 0 and 10"):(r=Number(r),Object(_.b)().patch("/portal/reviews/".concat(t,"/"),{points:r}).then(function(e){var n=a.state.reviews,l=n.findIndex(function(e){return e.id===t});n[l].points=r,a.setState({reviews:n})}))},a._closeModal=function(){a.setState({modal_open:!1})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.state.status),Object(_.b)().get("/portal/reviews/?task=".concat(this.task_id)).then(function(t){var a=t.data.sort(function(e,t){return t.id-e.id});console.log(a),a=a.map(function(e){var t=new Date(e.created_at);return e.created_at=t.toDateString(),e}),e.setState({reviews:a})})}},{key:"render",value:function(){var e=this,t=this.state.reviews.filter(function(e){return-1===e.points}).length,a=this.state.reviews.filter(function(e){return-1!==e.points}).length,n=this.state.reviews.find(function(t){return t.id===e.state.modal_review_id}),r=this.state.reviews.filter(function(e){return-1===e.points});"accepted"===this.state.status&&(r=this.state.reviews.filter(function(e){return-1!==e.points}));var l=r.map(function(t,a){return o.a.createElement("div",{className:"review shadow",key:a},o.a.createElement("img",{src:t.proof_pic,onClick:function(){return e.setState({modal_open:!0,modal_review_id:t.id})},alt:""}),o.a.createElement("div",{className:"d-flex user_details justify-content-center"},o.a.createElement("span",null,t.proof_by_name),o.a.createElement("span",null,t.proof_by_email)),o.a.createElement("form",{className:"text-center btns"},"accepted"===e.state.status?o.a.createElement("input",{type:"number",className:"text-center points-normal-".concat(t.id),disabled:!0,value:t.points,placeholder:"points"}):o.a.createElement("input",{type:"number",className:"text-center points-normal-".concat(t.id),placeholder:"points"}),o.a.createElement("button",{onClick:function(a){return e._accept_review(a,t.id,".points-normal-".concat(t.id))},className:"btn m-0 mx-2 btn-success"},"accepted"===e.state.status?o.a.createElement("i",{className:"fa fa-edit"}):o.a.createElement("i",{className:"fa fa-check"}))))});return o.a.createElement("div",{className:"tasks_list container"},o.a.createElement("div",{className:"d-flex my-4"},o.a.createElement("button",{onClick:function(){return e.props.history.goBack()},className:"btn btn-warning"},"go back"),o.a.createElement("h2",{className:" flex-grow-1 text-center"},this.state.status[0].toUpperCase(),this.state.status.slice(1)," Posts")),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{onClick:function(){return e.setState({status:"pending"})},className:"mx-2 btn btn-primary"},"Pending: ",t),o.a.createElement("button",{onClick:function(){return e.setState({status:"accepted"})},className:"mx-2 btn btn-success"},"Accepted: ",a)),o.a.createElement("div",{className:"reviews"},l),this.state.modal_open?o.a.createElement(H.a,{isOpen:this.state.modal_open,onRequestClose:this._closeModal,shouldCloseOnOverlayClick:!0,contentLabel:"review_modal"},o.a.createElement("div",{className:"review modal_review"},o.a.createElement("div",{className:"d-flex user_details justify-content-center"},o.a.createElement("span",null,n.proof_by_name),o.a.createElement("span",null,n.proof_by_email)),o.a.createElement("form",{className:"text-center btns"},"accepted"===this.state.status?o.a.createElement("input",{type:"number",className:"text-center points-modal-".concat(n.id),disabled:!0,value:n.points,placeholder:"points"}):o.a.createElement("input",{type:"number",className:"text-center points-modal-".concat(n.id),placeholder:"points"}),o.a.createElement("button",{onClick:function(t){return e._accept_review(t,n.id,".points-modal-".concat(n.id))},className:"btn m-0 mx-2 btn-success"},"accepted"===this.state.status?o.a.createElement("i",{className:"fa fa-edit"}):o.a.createElement("i",{className:"fa fa-check"}))),o.a.createElement("img",{src:n.proof_pic,onClick:function(){return e.setState({modal_open:!0,modal_review_id:n.id})},alt:""}))):null)}}]),t}(i.Component),F=Object(u.b)(function(e){return e})(G),J=a(137),V=a.n(J),X=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={startups:[],loading:!0,activePage:1,totalStartups:1,totalPages:1},a.handlePageChange=function(e){console.log("active page is ".concat(e)),a.setState({loading:!0}),Object(_.b)().get("/iportal/startup/?page=".concat(e)).then(function(t){var n=t.data.results;a.setState({loading:!1,activePage:e,startups:n,totalStartups:t.data.count,totalPages:t.data.total_pages})})},a._approve=function(e){Object(_.b)().put("/iportal/startup/".concat(e.id,"/"),Object(v.a)({},e,{idea_approved:!0})).then(function(t){var n=a.state.startups,r=n.findIndex(function(t){return t.id===e.id});console.log(r),n[r].idea_approved=!0,a.setState(n)})},a._approve_intern=function(e){Object(_.b)().put("/iportal/startup/".concat(e.id,"/"),Object(v.a)({},e,{can_hire_interns:!0})).then(function(t){var n=a.state.startups,r=n.findIndex(function(t){return t.id===e.id});console.log(r),n[r].can_hire_interns=!0,a.setState(n)})},a._dis_approve=function(e){Object(_.b)().put("/iportal/startup/".concat(e.id,"/"),Object(v.a)({},e,{idea_approved:!1})).then(function(t){var n=a.state.startups,r=n.findIndex(function(t){return t.id===e.id});console.log(r),n[r].idea_approved=!1,a.setState(n)})},a._dis_approve_intern=function(e){Object(_.b)().put("/iportal/startup/".concat(e.id,"/"),Object(v.a)({},e,{can_hire_interns:!1})).then(function(t){var n=a.state.startups,r=n.findIndex(function(t){return t.id===e.id});console.log(r),n[r].can_hire_interns=!1,a.setState(n)})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(_.b)().get("/iportal/startup/").then(function(t){var a=t.data.results;console.log(a),e.setState({startups:a,loading:!1,activePage:t.data.current_page,totalStartups:t.data.count})})}},{key:"render",value:function(){var e=this,t=(o.a.createElement("div",{className:"text-success"},o.a.createElement("i",{className:"fa fa-check"})),o.a.createElement("div",{className:"text-danger"},o.a.createElement("i",{className:"fa fa-times"})),this.state.startups.map(function(t,a){return o.a.createElement("tr",{key:a},o.a.createElement("td",null,14*(e.state.activePage-1)+a+1),o.a.createElement("td",null,o.a.createElement("div",{class:"card"},o.a.createElement("h5",{class:"card-header font-weight-bold"},t.idea_in_a_nut_shell),o.a.createElement("div",{class:"card-body"},o.a.createElement("div",{className:"mb-2"},o.a.createElement("i",{className:"font-weight-bold"},"Description :")),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.describe_idea}}),o.a.createElement("div",{className:"mb-2"},o.a.createElement("i",{className:"font-weight-bold"},"Beneficiaries :")," ",t.beneficiaries),o.a.createElement("div",null,o.a.createElement(p.b,{target:"_blank",className:"detail_link btn btn-primary",to:"/internship/jobs/".concat(t.id)},"Read More "),t.can_hire_interns?o.a.createElement("button",{onClick:function(){return e._dis_approve_intern(t)},className:"btn float-right font-weight-bold btn-danger"},"Disapprove Work Profiles"):o.a.createElement("button",{onClick:function(){return e._approve_intern(t)},className:"btn float-right font-weight-bold btn-success"},"Approve Work Profiles"),t.idea_approved?o.a.createElement("button",{onClick:function(){return e._dis_approve(t)},className:"btn float-right font-weight-bold btn-danger"},"Disapprove  Idea"):o.a.createElement("button",{onClick:function(){return e._approve(t)},className:"btn float-right font-weight-bold btn-success"},"Approve Idea"))))))}));return o.a.createElement("div",{className:"users_list container"},o.a.createElement("div",{className:"d-flex my-4"},o.a.createElement("h2",{className:" flex-grow-1 text-center"},"Idea List")),o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("strong",null,"#")),o.a.createElement("th",{className:"text-center"},o.a.createElement("strong",null,"Ideas")))),o.a.createElement("tbody",null,t)),this.state.loading?o.a.createElement("h3",{className:"text-center mt-3"},"...loading"):null,o.a.createElement("div",{className:"d-flex justify-content-center my-5"},o.a.createElement(V.a,{activePage:this.state.activePage,itemsCountPerPage:14,totalItemsCount:this.state.totalStartups,pageRangeDisplayed:10,itemClass:"page-item",linkClass:"page-link",onChange:this.handlePageChange})))}}]),t}(i.Component),q=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).base_route="/caportal/admin/",a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(I,null),o.a.createElement(m.d,null,o.a.createElement(m.b,{path:this.base_route+"review_taskwise/:task_id/",component:F}),o.a.createElement(m.b,{path:this.base_route+"tasks/:task_id",component:U}),o.a.createElement(m.b,{path:this.base_route+"create_task/",component:P}),o.a.createElement(m.b,{path:this.base_route+"tasks/",component:T}),o.a.createElement(m.b,{path:this.base_route+"users/:user_id",component:A}),o.a.createElement(m.b,{path:this.base_route+"create_user/",component:M}),o.a.createElement(m.b,{path:this.base_route+"users/",component:D}),o.a.createElement(m.b,{path:this.base_route+"startups/",component:X}),o.a.createElement(m.b,{path:this.base_route+"leaderboard/",component:C}),o.a.createElement(m.b,{path:this.base_route+"",component:O})))}}]),t}(i.Component);a.d(t,"ca_portal",function(){return z});var z=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.auth;if(console.log("gaurd comp"),e.loggedin)if("GST"===e.user_type)alert("You are not CA or admin yet!"),this.props.history.push("/caportal_info");else if("CAB"===e.user_type){if(this.props.location.pathname.indexOf("/ca/")>0)return;this.props.history.push("/caportal/ca")}else{if(this.props.location.pathname.indexOf("/admin/")>0)return;this.props.history.push("/caportal/admin")}else alert("Please login to continue"),this.props.history.push("/caportal_info")}},{key:"render",value:function(){return o.a.createElement("div",{className:"caportal-wrapper"},o.a.createElement(m.d,null,o.a.createElement(m.b,{path:"/caportal/ca",component:S}),o.a.createElement(m.b,{path:"/caportal/admin",component:q})))}}]),t}(i.Component);t.default=Object(u.b)(function(e){return e},d)(z)},61:function(e,t,a){"use strict";a.r(t),a.d(t,"updateUser",function(){return n});var n=function(e){return function(t){t({type:"update_user",payload:e})}}}}]);
//# sourceMappingURL=22.bc5ecfb6.chunk.js.map